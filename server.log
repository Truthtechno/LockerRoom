
> rest-express@1.0.0 dev
> NODE_ENV=development tsx server/index.ts

[dotenv@17.2.2] injecting env (0) from .env -- tip: ⚙️  override existing env vars with { override: true }
🔗 Connecting to database with URL: postgresql://neondb_owner:***@ep-dawn-morning-adi2xrza-pooler.c-2.us-east-1.aws.neon.tech/neondb?sslmode=require&channel_binding=require
🔎 vite.config.ts __dirname: /Users/brianamooti/Downloads/LockerRoom
🔧 Ensuring system admin user exists...
✅ Sysadmin ensured (email=sysadmin@lockerroom.com) - Already exists
4:39:21 PM [express] serving on port 5174
🔐 Rate limiting skipped in development for: /login
🔐 Login attempt: {
  email: 'adminscout@xen.com',
  hasPassword: true,
  passwordLength: 6,
  timestamp: '2025-09-28T13:39:22.459Z'
}
🔐 Attempting admin authentication for: adminscout@xen.com
🔐 Admin OTP verification failed: No valid OTP for admin: 1157cb65-e116-4e00-87ef-2ebddec34f93
Browserslist: browsers data (caniuse-lite) is 11 months old. Please run:
  npx update-browserslist-db@latest
  Why you should do it regularly: https://github.com/browserslist/update-db#readme
🔐 Admin password verification successful for: 1157cb65-e116-4e00-87ef-2ebddec34f93
🔐 Admin password login successful: {
  adminId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  email: 'adminscout@xen.com',
  role: 'scout_admin'
}
4:39:24 PM [express] POST /api/auth/login 200 in 1570ms :: {"token":"eyJhbGciOiJIUzI1NiIsInR5cCI6Ikp…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/xen-watch/analytics/overview',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/users/me',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔍 /api/users/me - Auth object: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  role: 'scout_admin',
  schoolId: null
}
🔍 About to execute scout count query...
🔢 Scout count raw result: {
  fields: [
    {
      name: 'count',
      dataTypeID: 20,
      tableID: 0,
      columnID: 0,
      dataTypeSize: 8,
      dataTypeModifier: -1,
      format: 'text'
    }
  ],
  rows: [ { count: '14' } ],
  command: 'SELECT',
  rowCount: 1,
  rowAsArray: false,
  viaNeonFetch: true,
  _parsers: [ [Function: parseBigInteger] ],
  _types: TypeOverrides {
    _types: {
      getTypeParser: [Function: getTypeParser],
      setTypeParser: [Function: setTypeParser],
      arrayParser: [Object],
      builtins: [Object]
    },
    text: {},
    binary: {}
  }
}
🔢 Scout count rows: [ { count: '14' } ]
🔢 Scout count first row: { count: '14' }
🔢 Scout count from scout_profiles: 14
🔍 /api/users/me - Database query result: { resultCount: 1, userId: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9' }
🔍 /api/users/me - Final schoolId: { dbSchoolId: null, jwtSchoolId: null, finalSchoolId: null }
🔍 Admin profile picture: {
  role: 'scout_admin',
  profilePicUrl: 'https://res.cloudinary.com/dh9cfkyhc/image/upload/v1758772148/lockerroom/profilePic/nfhezrnrpkk3lgslxtne.jpg'
}
✅ /api/users/me - Returning user data: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  role: 'scout_admin',
  schoolId: null,
  profilePicUrl: 'https://res.cloudinary.com/dh9cfkyhc/image/upload/v1758772148/lockerroom/profilePic/nfhezrnrpkk3lgslxtne.jpg'
}
4:39:24 PM [express] GET /api/users/me 304 in 563ms :: {"id":"3781838b-f36c-42a6-ad8b-2cc4e892cbb9",…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/scout/review-queue',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
4:39:25 PM [express] GET /api/xen-watch/analytics/overview 200 in 1007ms :: {"totals":{"total_submis…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/scouts/analytics',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔍 Getting scout analytics with time filter: all
🔍 Starting scout analytics function...
🔍 Time filter condition set to 1=1
🔍 About to execute scout stats query...
4:39:26 PM [express] GET /api/scouts/analytics 200 in 964ms :: {"scoutStats":[{"id":"dbc716f5-c5a1-4…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/admin/dashboard',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
4:39:26 PM [express] GET /api/xen-watch/scout/review-queue 304 in 1208ms :: {"submissions":[{"id":"5…
🔢 Admin dashboard scout count: 14
4:39:26 PM [express] GET /api/xen-watch/admin/dashboard 200 in 955ms :: {"totalSubmissions":"11","pe…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/admin/submissions',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
4:39:28 PM [express] GET /api/xen-watch/admin/submissions 200 in 1602ms :: {"submissions":[{"id":"5b…
4:39:43 PM [vite] page reload src/pages/scouts/admin/index.tsx
4:39:43 PM [vite] hmr update /src/pages/xen-watch/scout-queue.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
4:40:01 PM [vite] page reload src/pages/scouts/admin/index.tsx
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/admin/submissions',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
4:40:05 PM [express] GET /api/xen-watch/admin/submissions 304 in 3641ms :: {"submissions":[{"id":"5b…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/users/me',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔍 /api/users/me - Auth object: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  role: 'scout_admin',
  schoolId: null
}
🔐 Auth middleware: { hasToken: true, tokenLength: 341, url: '/api/scouts', method: 'GET' }
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
4:40:48 PM [express] GET /api/scouts 403 in 15ms :: {"error":{"code":"forbidden","message":"Insuffic…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/scout-admin/dashboard',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔍 /api/users/me - Database query result: { resultCount: 1, userId: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9' }
🔍 /api/users/me - Final schoolId: { dbSchoolId: null, jwtSchoolId: null, finalSchoolId: null }
🔍 Admin profile picture: {
  role: 'scout_admin',
  profilePicUrl: 'https://res.cloudinary.com/dh9cfkyhc/image/upload/v1758772148/lockerroom/profilePic/nfhezrnrpkk3lgslxtne.jpg'
}
✅ /api/users/me - Returning user data: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  role: 'scout_admin',
  schoolId: null,
  profilePicUrl: 'https://res.cloudinary.com/dh9cfkyhc/image/upload/v1758772148/lockerroom/profilePic/nfhezrnrpkk3lgslxtne.jpg'
}
4:40:49 PM [express] GET /api/users/me 304 in 1157ms :: {"id":"3781838b-f36c-42a6-ad8b-2cc4e892cbb9"…
4:40:50 PM [express] GET /api/scout-admin/dashboard 304 in 1820ms :: {"submissions":[{"id":"5b1397ba…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/scout/review-queue',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/admin/submissions',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
4:41:44 PM [express] GET /api/xen-watch/scout/review-queue 304 in 2586ms :: {"submissions":[{"id":"5…
4:41:44 PM [express] GET /api/xen-watch/admin/submissions 304 in 2922ms :: {"submissions":[{"id":"5b…
🔐 Rate limiting skipped in development for: /login
🔐 Login attempt: {
  email: 'adminscout@xen.com',
  hasPassword: true,
  passwordLength: 6,
  timestamp: '2025-09-28T13:42:31.692Z'
}
🔐 Attempting admin authentication for: adminscout@xen.com
🔐 Admin OTP verification failed: No valid OTP for admin: 1157cb65-e116-4e00-87ef-2ebddec34f93
🔐 Admin password verification successful for: 1157cb65-e116-4e00-87ef-2ebddec34f93
🔐 Admin password login successful: {
  adminId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  email: 'adminscout@xen.com',
  role: 'scout_admin'
}
4:42:33 PM [express] POST /api/auth/login 200 in 2294ms :: {"token":"eyJhbGciOiJIUzI1NiIsInR5cCI6Ikp…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/xen-watch/analytics/overview',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔍 About to execute scout count query...
🔢 Scout count raw result: {
  fields: [
    {
      name: 'count',
      dataTypeID: 20,
      tableID: 0,
      columnID: 0,
      dataTypeSize: 8,
      dataTypeModifier: -1,
      format: 'text'
    }
  ],
  rows: [ { count: '14' } ],
  command: 'SELECT',
  rowCount: 1,
  rowAsArray: false,
  viaNeonFetch: true,
  _parsers: [ [Function: parseBigInteger] ],
  _types: TypeOverrides {
    _types: {
      getTypeParser: [Function: getTypeParser],
      setTypeParser: [Function: setTypeParser],
      arrayParser: [Object],
      builtins: [Object]
    },
    text: {},
    binary: {}
  }
}
🔢 Scout count rows: [ { count: '14' } ]
🔢 Scout count first row: { count: '14' }
🔢 Scout count from scout_profiles: 14
4:42:35 PM [express] GET /api/xen-watch/analytics/overview 200 in 951ms :: {"totals":{"total_submiss…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/admin/submissions',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
4:42:47 PM [express] GET /api/xen-watch/admin/submissions 304 in 2618ms :: {"submissions":[{"id":"5b…
4:42:55 PM [vite] page reload src/pages/scouts/admin/index.tsx
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/users/me',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔍 /api/users/me - Auth object: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  role: 'scout_admin',
  schoolId: null
}
🔍 /api/users/me - Database query result: { resultCount: 1, userId: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9' }
🔍 /api/users/me - Final schoolId: { dbSchoolId: null, jwtSchoolId: null, finalSchoolId: null }
🔍 Admin profile picture: {
  role: 'scout_admin',
  profilePicUrl: 'https://res.cloudinary.com/dh9cfkyhc/image/upload/v1758772148/lockerroom/profilePic/nfhezrnrpkk3lgslxtne.jpg'
}
✅ /api/users/me - Returning user data: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  role: 'scout_admin',
  schoolId: null,
  profilePicUrl: 'https://res.cloudinary.com/dh9cfkyhc/image/upload/v1758772148/lockerroom/profilePic/nfhezrnrpkk3lgslxtne.jpg'
}
4:42:57 PM [express] GET /api/users/me 304 in 1463ms :: {"id":"3781838b-f36c-42a6-ad8b-2cc4e892cbb9"…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/scout/review-queue',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
4:42:58 PM [express] GET /api/xen-watch/scout/review-queue 304 in 1184ms :: {"submissions":[{"id":"5…
4:43:05 PM [vite] hmr update /src/pages/xen-watch/scout-queue.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
4:43:10 PM [vite] hmr update /src/pages/xen-watch/scout-queue.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
🔐 Rate limiting skipped in development for: /login
🔐 Login attempt: {
  email: 'adminscout@xen.com',
  hasPassword: true,
  passwordLength: 6,
  timestamp: '2025-09-28T13:43:52.375Z'
}
🔐 Attempting admin authentication for: adminscout@xen.com
🔐 Admin OTP verification failed: No valid OTP for admin: 1157cb65-e116-4e00-87ef-2ebddec34f93
🔐 Admin password verification successful for: 1157cb65-e116-4e00-87ef-2ebddec34f93
🔐 Admin password login successful: {
  adminId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  email: 'adminscout@xen.com',
  role: 'scout_admin'
}
4:43:54 PM [express] POST /api/auth/login 200 in 2299ms :: {"token":"eyJhbGciOiJIUzI1NiIsInR5cCI6Ikp…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/xen-watch/analytics/overview',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔍 About to execute scout count query...
🔢 Scout count raw result: {
  fields: [
    {
      name: 'count',
      dataTypeID: 20,
      tableID: 0,
      columnID: 0,
      dataTypeSize: 8,
      dataTypeModifier: -1,
      format: 'text'
    }
  ],
  rows: [ { count: '14' } ],
  command: 'SELECT',
  rowCount: 1,
  rowAsArray: false,
  viaNeonFetch: true,
  _parsers: [ [Function: parseBigInteger] ],
  _types: TypeOverrides {
    _types: {
      getTypeParser: [Function: getTypeParser],
      setTypeParser: [Function: setTypeParser],
      arrayParser: [Object],
      builtins: [Object]
    },
    text: {},
    binary: {}
  }
}
🔢 Scout count rows: [ { count: '14' } ]
🔢 Scout count first row: { count: '14' }
🔢 Scout count from scout_profiles: 14
4:43:55 PM [express] GET /api/xen-watch/analytics/overview 200 in 1065ms :: {"totals":{"total_submis…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/admin/dashboard',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔢 Admin dashboard scout count: 14
4:43:56 PM [express] GET /api/xen-watch/admin/dashboard 200 in 1060ms :: {"totalSubmissions":"11","p…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/scouts/analytics',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔍 Getting scout analytics with time filter: all
🔍 Starting scout analytics function...
🔍 Time filter condition set to 1=1
🔍 About to execute scout stats query...
4:43:57 PM [express] GET /api/scouts/analytics 200 in 941ms :: {"scoutStats":[{"id":"dbc716f5-c5a1-4…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/admin/submissions',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
4:44:13 PM [express] GET /api/xen-watch/admin/submissions 304 in 2997ms :: {"submissions":[{"id":"5b…
4:44:16 PM [vite] hmr update /src/App.tsx?v=VICliPGO0LKNrpjtsBswE, /src/index.css?v=VICliPGO0LKNrpjtsBswE
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/users/me',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔍 /api/users/me - Auth object: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  role: 'scout_admin',
  schoolId: null
}
🔍 /api/users/me - Database query result: { resultCount: 1, userId: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9' }
🔍 /api/users/me - Final schoolId: { dbSchoolId: null, jwtSchoolId: null, finalSchoolId: null }
🔍 Admin profile picture: {
  role: 'scout_admin',
  profilePicUrl: 'https://res.cloudinary.com/dh9cfkyhc/image/upload/v1758772148/lockerroom/profilePic/nfhezrnrpkk3lgslxtne.jpg'
}
✅ /api/users/me - Returning user data: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  role: 'scout_admin',
  schoolId: null,
  profilePicUrl: 'https://res.cloudinary.com/dh9cfkyhc/image/upload/v1758772148/lockerroom/profilePic/nfhezrnrpkk3lgslxtne.jpg'
}
4:44:16 PM [express] GET /api/users/me 304 in 543ms :: {"id":"3781838b-f36c-42a6-ad8b-2cc4e892cbb9",…
4:44:20 PM [vite] hmr update /src/pages/scouts/admin/index.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
4:44:26 PM [vite] hmr update /src/pages/scouts/admin/index.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
4:44:30 PM [vite] hmr update /src/pages/scouts/admin/index.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
🔐 Rate limiting skipped in development for: /login
🔐 Login attempt: {
  email: 'adminscout@xen.com',
  hasPassword: true,
  passwordLength: 6,
  timestamp: '2025-09-28T13:44:50.686Z'
}
🔐 Attempting admin authentication for: adminscout@xen.com
🔐 Admin OTP verification failed: No valid OTP for admin: 1157cb65-e116-4e00-87ef-2ebddec34f93
🔐 Admin password verification successful for: 1157cb65-e116-4e00-87ef-2ebddec34f93
🔐 Admin password login successful: {
  adminId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  email: 'adminscout@xen.com',
  role: 'scout_admin'
}
4:44:52 PM [express] POST /api/auth/login 200 in 2287ms :: {"token":"eyJhbGciOiJIUzI1NiIsInR5cCI6Ikp…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/xen-watch/analytics/overview',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔍 About to execute scout count query...
🔢 Scout count raw result: {
  fields: [
    {
      name: 'count',
      dataTypeID: 20,
      tableID: 0,
      columnID: 0,
      dataTypeSize: 8,
      dataTypeModifier: -1,
      format: 'text'
    }
  ],
  rows: [ { count: '14' } ],
  command: 'SELECT',
  rowCount: 1,
  rowAsArray: false,
  viaNeonFetch: true,
  _parsers: [ [Function: parseBigInteger] ],
  _types: TypeOverrides {
    _types: {
      getTypeParser: [Function: getTypeParser],
      setTypeParser: [Function: setTypeParser],
      arrayParser: [Object],
      builtins: [Object]
    },
    text: {},
    binary: {}
  }
}
🔢 Scout count rows: [ { count: '14' } ]
🔢 Scout count first row: { count: '14' }
🔢 Scout count from scout_profiles: 14
4:44:53 PM [express] GET /api/xen-watch/analytics/overview 200 in 948ms :: {"totals":{"total_submiss…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/scouts/analytics',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔍 Getting scout analytics with time filter: all
🔍 Starting scout analytics function...
🔍 Time filter condition set to 1=1
🔍 About to execute scout stats query...
4:44:55 PM [express] GET /api/scouts/analytics 200 in 1270ms :: {"scoutStats":[{"id":"dbc716f5-c5a1-…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/admin/dashboard',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔢 Admin dashboard scout count: 14
4:44:56 PM [express] GET /api/xen-watch/admin/dashboard 200 in 1099ms :: {"totalSubmissions":"11","p…
4:45:08 PM [vite] hmr update /src/pages/scouts/admin/index.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
4:45:08 PM [vite] hmr update /src/App.tsx?v=VICliPGO0LKNrpjtsBswE, /src/index.css?v=VICliPGO0LKNrpjtsBswE
4:45:08 PM [vite] hmr update /src/pages/xen-watch/scout-queue.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
4:45:18 PM [vite] hmr update /src/pages/scouts/admin/index.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/admin/submissions',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
4:45:41 PM [express] GET /api/xen-watch/admin/submissions 304 in 2712ms :: {"submissions":[{"id":"5b…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/users/me',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔍 /api/users/me - Auth object: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  role: 'scout_admin',
  schoolId: null
}
🔍 /api/users/me - Database query result: { resultCount: 1, userId: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9' }
🔍 /api/users/me - Final schoolId: { dbSchoolId: null, jwtSchoolId: null, finalSchoolId: null }
🔍 Admin profile picture: {
  role: 'scout_admin',
  profilePicUrl: 'https://res.cloudinary.com/dh9cfkyhc/image/upload/v1758772148/lockerroom/profilePic/nfhezrnrpkk3lgslxtne.jpg'
}
✅ /api/users/me - Returning user data: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  role: 'scout_admin',
  schoolId: null,
  profilePicUrl: 'https://res.cloudinary.com/dh9cfkyhc/image/upload/v1758772148/lockerroom/profilePic/nfhezrnrpkk3lgslxtne.jpg'
}
4:46:02 PM [express] GET /api/users/me 304 in 1848ms :: {"id":"3781838b-f36c-42a6-ad8b-2cc4e892cbb9"…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/xen-watch/analytics/overview',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔍 About to execute scout count query...
🔢 Scout count raw result: {
  fields: [
    {
      name: 'count',
      dataTypeID: 20,
      tableID: 0,
      columnID: 0,
      dataTypeSize: 8,
      dataTypeModifier: -1,
      format: 'text'
    }
  ],
  rows: [ { count: '14' } ],
  command: 'SELECT',
  rowCount: 1,
  rowAsArray: false,
  viaNeonFetch: true,
  _parsers: [ [Function: parseBigInteger] ],
  _types: TypeOverrides {
    _types: {
      getTypeParser: [Function: getTypeParser],
      setTypeParser: [Function: setTypeParser],
      arrayParser: [Object],
      builtins: [Object]
    },
    text: {},
    binary: {}
  }
}
🔢 Scout count rows: [ { count: '14' } ]
🔢 Scout count first row: { count: '14' }
🔢 Scout count from scout_profiles: 14
4:46:03 PM [express] GET /api/xen-watch/analytics/overview 200 in 1227ms :: {"totals":{"total_submis…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/scouts/analytics?timeFilter=all',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔍 Getting scout analytics with time filter: all
🔍 Starting scout analytics function...
🔍 Time filter condition set to 1=1
🔍 About to execute scout stats query...
4:46:50 PM [express] GET /api/scouts/analytics 304 in 2228ms :: {"scoutStats":[{"id":"dbc716f5-c5a1-…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/scouts/detailed?page=1&limit=20',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
4:46:56 PM [express] GET /api/scouts/detailed 304 in 1785ms :: {"scouts":[{"id":"0eca580f-6faa-4756-…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/scouts/analytics?timeFilter=all',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔍 Getting scout analytics with time filter: all
🔍 Starting scout analytics function...
🔍 Time filter condition set to 1=1
🔍 About to execute scout stats query...
4:48:01 PM [express] GET /api/scouts/analytics 304 in 2483ms :: {"scoutStats":[{"id":"dbc716f5-c5a1-…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/scouts/analytics?timeFilter=all',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔍 Getting scout analytics with time filter: all
🔍 Starting scout analytics function...
🔍 Time filter condition set to 1=1
🔍 About to execute scout stats query...
4:49:03 PM [express] GET /api/scouts/analytics 304 in 1942ms :: {"scoutStats":[{"id":"dbc716f5-c5a1-…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/scouts/analytics?timeFilter=all',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔍 Getting scout analytics with time filter: all
🔍 Starting scout analytics function...
🔍 Time filter condition set to 1=1
🔍 About to execute scout stats query...
4:50:06 PM [express] GET /api/scouts/analytics 304 in 2985ms :: {"scoutStats":[{"id":"dbc716f5-c5a1-…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/scouts/analytics?timeFilter=all',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔍 Getting scout analytics with time filter: all
🔍 Starting scout analytics function...
🔍 Time filter condition set to 1=1
🔍 About to execute scout stats query...
4:51:09 PM [express] GET /api/scouts/analytics 304 in 2813ms :: {"scoutStats":[{"id":"dbc716f5-c5a1-…
🔐 Rate limiting skipped in development for: /login
🔐 Login attempt: {
  email: 'adminscout@xen.com',
  hasPassword: true,
  passwordLength: 6,
  timestamp: '2025-09-28T13:51:16.633Z'
}
🔐 Attempting admin authentication for: adminscout@xen.com
🔐 Admin OTP verification failed: No valid OTP for admin: 1157cb65-e116-4e00-87ef-2ebddec34f93
🔐 Admin password verification successful for: 1157cb65-e116-4e00-87ef-2ebddec34f93
🔐 Admin password login successful: {
  adminId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  email: 'adminscout@xen.com',
  role: 'scout_admin'
}
4:51:19 PM [express] POST /api/auth/login 200 in 2367ms :: {"token":"eyJhbGciOiJIUzI1NiIsInR5cCI6Ikp…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/scouts/analytics',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔍 Getting scout analytics with time filter: all
🔍 Starting scout analytics function...
🔍 Time filter condition set to 1=1
🔍 About to execute scout stats query...
4:51:20 PM [express] GET /api/scouts/analytics 200 in 1139ms :: {"scoutStats":[{"id":"dbc716f5-c5a1-…
4:51:31 PM [vite] hmr update /src/pages/scouts/admin/xen-watch-analytics.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/xen-watch/analytics/overview?timeFilter=all',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔍 About to execute scout count query...
🔢 Scout count raw result: {
  fields: [
    {
      name: 'count',
      dataTypeID: 20,
      tableID: 0,
      columnID: 0,
      dataTypeSize: 8,
      dataTypeModifier: -1,
      format: 'text'
    }
  ],
  rows: [ { count: '14' } ],
  command: 'SELECT',
  rowCount: 1,
  rowAsArray: false,
  viaNeonFetch: true,
  _parsers: [ [Function: parseBigInteger] ],
  _types: TypeOverrides {
    _types: {
      getTypeParser: [Function: getTypeParser],
      setTypeParser: [Function: setTypeParser],
      arrayParser: [Object],
      builtins: [Object]
    },
    text: {},
    binary: {}
  }
}
🔢 Scout count rows: [ { count: '14' } ]
🔢 Scout count first row: { count: '14' }
🔢 Scout count from scout_profiles: 14
4:51:34 PM [express] GET /api/xen-watch/analytics/overview 200 in 1997ms :: {"totals":{"total_submis…
🔐 Rate limiting skipped in development for: /login
🔐 Login attempt: {
  email: 'adminscout@xen.com',
  hasPassword: true,
  passwordLength: 6,
  timestamp: '2025-09-28T13:51:37.628Z'
}
🔐 Attempting admin authentication for: adminscout@xen.com
🔐 Admin OTP verification failed: No valid OTP for admin: 1157cb65-e116-4e00-87ef-2ebddec34f93
🔐 Admin password verification successful for: 1157cb65-e116-4e00-87ef-2ebddec34f93
🔐 Admin password login successful: {
  adminId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  email: 'adminscout@xen.com',
  role: 'scout_admin'
}
4:51:39 PM [express] POST /api/auth/login 200 in 1541ms :: {"token":"eyJhbGciOiJIUzI1NiIsInR5cCI6Ikp…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/xen-watch/analytics/overview',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔍 About to execute scout count query...
🔢 Scout count raw result: {
  fields: [
    {
      name: 'count',
      dataTypeID: 20,
      tableID: 0,
      columnID: 0,
      dataTypeSize: 8,
      dataTypeModifier: -1,
      format: 'text'
    }
  ],
  rows: [ { count: '14' } ],
  command: 'SELECT',
  rowCount: 1,
  rowAsArray: false,
  viaNeonFetch: true,
  _parsers: [ [Function: parseBigInteger] ],
  _types: TypeOverrides {
    _types: {
      getTypeParser: [Function: getTypeParser],
      setTypeParser: [Function: setTypeParser],
      arrayParser: [Object],
      builtins: [Object]
    },
    text: {},
    binary: {}
  }
}
🔢 Scout count rows: [ { count: '14' } ]
🔢 Scout count first row: { count: '14' }
🔢 Scout count from scout_profiles: 14
4:51:40 PM [express] GET /api/xen-watch/analytics/overview 200 in 1299ms :: {"totals":{"total_submis…
4:51:49 PM [vite] hmr update /src/pages/scouts/admin/xen-watch-analytics.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/users/me',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔍 /api/users/me - Auth object: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  role: 'scout_admin',
  schoolId: null
}
🔍 /api/users/me - Database query result: { resultCount: 1, userId: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9' }
🔍 /api/users/me - Final schoolId: { dbSchoolId: null, jwtSchoolId: null, finalSchoolId: null }
🔍 Admin profile picture: {
  role: 'scout_admin',
  profilePicUrl: 'https://res.cloudinary.com/dh9cfkyhc/image/upload/v1758772148/lockerroom/profilePic/nfhezrnrpkk3lgslxtne.jpg'
}
✅ /api/users/me - Returning user data: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  role: 'scout_admin',
  schoolId: null,
  profilePicUrl: 'https://res.cloudinary.com/dh9cfkyhc/image/upload/v1758772148/lockerroom/profilePic/nfhezrnrpkk3lgslxtne.jpg'
}
4:51:51 PM [express] GET /api/users/me 304 in 1707ms :: {"id":"3781838b-f36c-42a6-ad8b-2cc4e892cbb9"…
4:51:56 PM [vite] hmr update /src/pages/scouts/admin/xen-watch-analytics.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
4:52:06 PM [vite] hmr update /src/pages/scouts/admin/xen-watch-analytics.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
4:52:19 PM [vite] hmr update /src/pages/scouts/admin/xen-watch-analytics.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
4:52:33 PM [vite] hmr update /src/pages/scouts/admin/xen-watch-analytics.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
4:52:41 PM [vite] hmr update /src/pages/scouts/admin/xen-watch-analytics.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
4:52:49 PM [vite] hmr update /src/pages/scouts/admin/xen-watch-analytics.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
4:52:59 PM [vite] hmr update /src/pages/scouts/admin/xen-watch-analytics.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/users/me',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔍 /api/users/me - Auth object: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  role: 'scout_admin',
  schoolId: null
}
🔍 /api/users/me - Database query result: { resultCount: 1, userId: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9' }
🔍 /api/users/me - Final schoolId: { dbSchoolId: null, jwtSchoolId: null, finalSchoolId: null }
🔍 Admin profile picture: {
  role: 'scout_admin',
  profilePicUrl: 'https://res.cloudinary.com/dh9cfkyhc/image/upload/v1758772148/lockerroom/profilePic/nfhezrnrpkk3lgslxtne.jpg'
}
✅ /api/users/me - Returning user data: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  role: 'scout_admin',
  schoolId: null,
  profilePicUrl: 'https://res.cloudinary.com/dh9cfkyhc/image/upload/v1758772148/lockerroom/profilePic/nfhezrnrpkk3lgslxtne.jpg'
}
4:53:00 PM [express] GET /api/users/me 304 in 1524ms :: {"id":"3781838b-f36c-42a6-ad8b-2cc4e892cbb9"…
4:53:17 PM [vite] hmr update /src/pages/scouts/admin/xen-watch-analytics.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
4:53:22 PM [vite] hmr update /src/pages/scouts/admin/xen-watch-analytics.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
4:53:26 PM [vite] hmr update /src/pages/scouts/admin/xen-watch-analytics.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
🔐 Rate limiting skipped in development for: /login
🔐 Login attempt: {
  email: 'adminscout@xen.com',
  hasPassword: true,
  passwordLength: 6,
  timestamp: '2025-09-28T13:53:50.778Z'
}
🔐 Attempting admin authentication for: adminscout@xen.com
🔐 Admin OTP verification failed: No valid OTP for admin: 1157cb65-e116-4e00-87ef-2ebddec34f93
🔐 Admin password verification successful for: 1157cb65-e116-4e00-87ef-2ebddec34f93
🔐 Admin password login successful: {
  adminId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  email: 'adminscout@xen.com',
  role: 'scout_admin'
}
4:53:53 PM [express] POST /api/auth/login 200 in 2437ms :: {"token":"eyJhbGciOiJIUzI1NiIsInR5cCI6Ikp…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/xen-watch/analytics/overview',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔍 About to execute scout count query...
🔢 Scout count raw result: {
  fields: [
    {
      name: 'count',
      dataTypeID: 20,
      tableID: 0,
      columnID: 0,
      dataTypeSize: 8,
      dataTypeModifier: -1,
      format: 'text'
    }
  ],
  rows: [ { count: '14' } ],
  command: 'SELECT',
  rowCount: 1,
  rowAsArray: false,
  viaNeonFetch: true,
  _parsers: [ [Function: parseBigInteger] ],
  _types: TypeOverrides {
    _types: {
      getTypeParser: [Function: getTypeParser],
      setTypeParser: [Function: setTypeParser],
      arrayParser: [Object],
      builtins: [Object]
    },
    text: {},
    binary: {}
  }
}
🔢 Scout count rows: [ { count: '14' } ]
🔢 Scout count first row: { count: '14' }
🔢 Scout count from scout_profiles: 14
4:53:55 PM [express] GET /api/xen-watch/analytics/overview 200 in 1925ms :: {"totals":{"total_submis…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/scouts/analytics',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔍 Getting scout analytics with time filter: all
🔍 Starting scout analytics function...
🔍 Time filter condition set to 1=1
🔍 About to execute scout stats query...
4:53:56 PM [express] GET /api/scouts/analytics 200 in 1121ms :: {"scoutStats":[{"id":"dbc716f5-c5a1-…
4:54:17 PM [vite] hmr update /src/pages/scouts/admin/xen-watch-analytics.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/users/me',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔍 /api/users/me - Auth object: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  role: 'scout_admin',
  schoolId: null
}
🔍 /api/users/me - Database query result: { resultCount: 1, userId: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9' }
🔍 /api/users/me - Final schoolId: { dbSchoolId: null, jwtSchoolId: null, finalSchoolId: null }
🔍 Admin profile picture: {
  role: 'scout_admin',
  profilePicUrl: 'https://res.cloudinary.com/dh9cfkyhc/image/upload/v1758772148/lockerroom/profilePic/nfhezrnrpkk3lgslxtne.jpg'
}
✅ /api/users/me - Returning user data: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  role: 'scout_admin',
  schoolId: null,
  profilePicUrl: 'https://res.cloudinary.com/dh9cfkyhc/image/upload/v1758772148/lockerroom/profilePic/nfhezrnrpkk3lgslxtne.jpg'
}
4:54:19 PM [express] GET /api/users/me 304 in 1556ms :: {"id":"3781838b-f36c-42a6-ad8b-2cc4e892cbb9"…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/xen-watch/analytics/overview?timeFilter=all',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/scouts/analytics?timeFilter=all',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔍 Getting scout analytics with time filter: all
🔍 Starting scout analytics function...
🔍 Time filter condition set to 1=1
🔍 About to execute scout stats query...
🔍 About to execute scout count query...
🔢 Scout count raw result: {
  fields: [
    {
      name: 'count',
      dataTypeID: 20,
      tableID: 0,
      columnID: 0,
      dataTypeSize: 8,
      dataTypeModifier: -1,
      format: 'text'
    }
  ],
  rows: [ { count: '14' } ],
  command: 'SELECT',
  rowCount: 1,
  rowAsArray: false,
  viaNeonFetch: true,
  _parsers: [ [Function: parseBigInteger] ],
  _types: TypeOverrides {
    _types: {
      getTypeParser: [Function: getTypeParser],
      setTypeParser: [Function: setTypeParser],
      arrayParser: [Object],
      builtins: [Object]
    },
    text: {},
    binary: {}
  }
}
🔢 Scout count rows: [ { count: '14' } ]
🔢 Scout count first row: { count: '14' }
🔢 Scout count from scout_profiles: 14
4:54:20 PM [express] GET /api/xen-watch/analytics/overview 304 in 1004ms :: {"totals":{"total_submis…
4:54:21 PM [express] GET /api/scouts/analytics 304 in 1597ms :: {"scoutStats":[{"id":"dbc716f5-c5a1-…
4:54:54 PM [vite] hmr update /src/pages/scouts/admin/xen-watch-analytics.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/users/me',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔍 /api/users/me - Auth object: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  role: 'scout_admin',
  schoolId: null
}
🔍 /api/users/me - Database query result: { resultCount: 1, userId: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9' }
🔍 /api/users/me - Final schoolId: { dbSchoolId: null, jwtSchoolId: null, finalSchoolId: null }
🔍 Admin profile picture: {
  role: 'scout_admin',
  profilePicUrl: 'https://res.cloudinary.com/dh9cfkyhc/image/upload/v1758772148/lockerroom/profilePic/nfhezrnrpkk3lgslxtne.jpg'
}
✅ /api/users/me - Returning user data: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  role: 'scout_admin',
  schoolId: null,
  profilePicUrl: 'https://res.cloudinary.com/dh9cfkyhc/image/upload/v1758772148/lockerroom/profilePic/nfhezrnrpkk3lgslxtne.jpg'
}
4:55:22 PM [express] GET /api/users/me 304 in 1777ms :: {"id":"3781838b-f36c-42a6-ad8b-2cc4e892cbb9"…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/xen-watch/analytics/overview?timeFilter=all',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/scouts/analytics?timeFilter=all',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔍 Getting scout analytics with time filter: all
🔍 Starting scout analytics function...
🔍 Time filter condition set to 1=1
🔍 About to execute scout stats query...
🔍 About to execute scout count query...
🔢 Scout count raw result: {
  fields: [
    {
      name: 'count',
      dataTypeID: 20,
      tableID: 0,
      columnID: 0,
      dataTypeSize: 8,
      dataTypeModifier: -1,
      format: 'text'
    }
  ],
  rows: [ { count: '14' } ],
  command: 'SELECT',
  rowCount: 1,
  rowAsArray: false,
  viaNeonFetch: true,
  _parsers: [ [Function: parseBigInteger] ],
  _types: TypeOverrides {
    _types: {
      getTypeParser: [Function: getTypeParser],
      setTypeParser: [Function: setTypeParser],
      arrayParser: [Object],
      builtins: [Object]
    },
    text: {},
    binary: {}
  }
}
🔢 Scout count rows: [ { count: '14' } ]
🔢 Scout count first row: { count: '14' }
🔢 Scout count from scout_profiles: 14
4:55:23 PM [express] GET /api/scouts/analytics 304 in 1119ms :: {"scoutStats":[{"id":"dbc716f5-c5a1-…
4:55:23 PM [express] GET /api/xen-watch/analytics/overview 304 in 1706ms :: {"totals":{"total_submis…
4:56:57 PM [vite] hmr update /src/pages/scouts/admin/xen-watch-analytics.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/users/me',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔍 /api/users/me - Auth object: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  role: 'scout_admin',
  schoolId: null
}
🔍 /api/users/me - Database query result: { resultCount: 1, userId: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9' }
🔍 /api/users/me - Final schoolId: { dbSchoolId: null, jwtSchoolId: null, finalSchoolId: null }
🔍 Admin profile picture: {
  role: 'scout_admin',
  profilePicUrl: 'https://res.cloudinary.com/dh9cfkyhc/image/upload/v1758772148/lockerroom/profilePic/nfhezrnrpkk3lgslxtne.jpg'
}
✅ /api/users/me - Returning user data: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  role: 'scout_admin',
  schoolId: null,
  profilePicUrl: 'https://res.cloudinary.com/dh9cfkyhc/image/upload/v1758772148/lockerroom/profilePic/nfhezrnrpkk3lgslxtne.jpg'
}
4:56:59 PM [express] GET /api/users/me 304 in 1503ms :: {"id":"3781838b-f36c-42a6-ad8b-2cc4e892cbb9"…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/xen-watch/analytics/overview?timeFilter=all',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/scouts/analytics?timeFilter=all',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔍 Getting scout analytics with time filter: all
🔍 Starting scout analytics function...
🔍 Time filter condition set to 1=1
🔍 About to execute scout stats query...
🔍 About to execute scout count query...
🔢 Scout count raw result: {
  fields: [
    {
      name: 'count',
      dataTypeID: 20,
      tableID: 0,
      columnID: 0,
      dataTypeSize: 8,
      dataTypeModifier: -1,
      format: 'text'
    }
  ],
  rows: [ { count: '14' } ],
  command: 'SELECT',
  rowCount: 1,
  rowAsArray: false,
  viaNeonFetch: true,
  _parsers: [ [Function: parseBigInteger] ],
  _types: TypeOverrides {
    _types: {
      getTypeParser: [Function: getTypeParser],
      setTypeParser: [Function: setTypeParser],
      arrayParser: [Object],
      builtins: [Object]
    },
    text: {},
    binary: {}
  }
}
🔢 Scout count rows: [ { count: '14' } ]
🔢 Scout count first row: { count: '14' }
🔢 Scout count from scout_profiles: 14
4:57:00 PM [express] GET /api/xen-watch/analytics/overview 304 in 949ms :: {"totals":{"total_submiss…
4:57:01 PM [vite] hmr update /src/pages/scouts/admin/xen-watch-analytics.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
4:57:01 PM [express] GET /api/scouts/analytics 304 in 1434ms :: {"scoutStats":[{"id":"dbc716f5-c5a1-…
4:57:04 PM [vite] hmr update /src/pages/scouts/admin/xen-watch-analytics.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
4:57:08 PM [vite] hmr update /src/pages/scouts/admin/xen-watch-analytics.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
4:57:13 PM [vite] hmr update /src/pages/scouts/admin/xen-watch-analytics.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
4:57:19 PM [vite] hmr update /src/pages/scouts/admin/xen-watch-analytics.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
4:57:22 PM [vite] hmr update /src/pages/scouts/admin/xen-watch-analytics.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
4:57:25 PM [vite] hmr update /src/pages/scouts/admin/xen-watch-analytics.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
4:57:28 PM [vite] hmr update /src/pages/scouts/admin/xen-watch-analytics.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
4:57:32 PM [vite] hmr update /src/pages/scouts/admin/xen-watch-analytics.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
4:57:37 PM [vite] hmr update /src/pages/scouts/admin/xen-watch-analytics.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
4:57:43 PM [vite] hmr update /src/pages/scouts/admin/xen-watch-analytics.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
4:57:46 PM [vite] hmr update /src/pages/scouts/admin/xen-watch-analytics.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
4:57:49 PM [vite] hmr update /src/pages/scouts/admin/xen-watch-analytics.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
4:57:54 PM [vite] hmr update /src/pages/scouts/admin/xen-watch-analytics.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
4:57:59 PM [vite] hmr update /src/pages/scouts/admin/xen-watch-analytics.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
🔐 Rate limiting skipped in development for: /login
🔐 Login attempt: {
  email: 'adminscout@xen.com',
  hasPassword: true,
  passwordLength: 6,
  timestamp: '2025-09-28T13:58:16.417Z'
}
🔐 Attempting admin authentication for: adminscout@xen.com
🔐 Admin OTP verification failed: No valid OTP for admin: 1157cb65-e116-4e00-87ef-2ebddec34f93
🔐 Admin password verification successful for: 1157cb65-e116-4e00-87ef-2ebddec34f93
🔐 Admin password login successful: {
  adminId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  email: 'adminscout@xen.com',
  role: 'scout_admin'
}
4:58:18 PM [express] POST /api/auth/login 200 in 2487ms :: {"token":"eyJhbGciOiJIUzI1NiIsInR5cCI6Ikp…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/xen-watch/analytics/overview',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔍 About to execute scout count query...
🔢 Scout count raw result: {
  fields: [
    {
      name: 'count',
      dataTypeID: 20,
      tableID: 0,
      columnID: 0,
      dataTypeSize: 8,
      dataTypeModifier: -1,
      format: 'text'
    }
  ],
  rows: [ { count: '14' } ],
  command: 'SELECT',
  rowCount: 1,
  rowAsArray: false,
  viaNeonFetch: true,
  _parsers: [ [Function: parseBigInteger] ],
  _types: TypeOverrides {
    _types: {
      getTypeParser: [Function: getTypeParser],
      setTypeParser: [Function: setTypeParser],
      arrayParser: [Object],
      builtins: [Object]
    },
    text: {},
    binary: {}
  }
}
🔢 Scout count rows: [ { count: '14' } ]
🔢 Scout count first row: { count: '14' }
🔢 Scout count from scout_profiles: 14
4:58:20 PM [express] GET /api/xen-watch/analytics/overview 200 in 1176ms :: {"totals":{"total_submis…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/scouts/analytics',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔍 Getting scout analytics with time filter: all
🔍 Starting scout analytics function...
🔍 Time filter condition set to 1=1
🔍 About to execute scout stats query...
4:58:21 PM [express] GET /api/scouts/analytics 200 in 1168ms :: {"scoutStats":[{"id":"dbc716f5-c5a1-…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/xen-watch/analytics/overview?timeFilter=all',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔍 About to execute scout count query...
🔢 Scout count raw result: {
  fields: [
    {
      name: 'count',
      dataTypeID: 20,
      tableID: 0,
      columnID: 0,
      dataTypeSize: 8,
      dataTypeModifier: -1,
      format: 'text'
    }
  ],
  rows: [ { count: '14' } ],
  command: 'SELECT',
  rowCount: 1,
  rowAsArray: false,
  viaNeonFetch: true,
  _parsers: [ [Function: parseBigInteger] ],
  _types: TypeOverrides {
    _types: {
      getTypeParser: [Function: getTypeParser],
      setTypeParser: [Function: setTypeParser],
      arrayParser: [Object],
      builtins: [Object]
    },
    text: {},
    binary: {}
  }
}
🔢 Scout count rows: [ { count: '14' } ]
🔢 Scout count first row: { count: '14' }
🔢 Scout count from scout_profiles: 14
4:58:31 PM [express] GET /api/xen-watch/analytics/overview 304 in 1889ms :: {"totals":{"total_submis…
4:58:34 PM [vite] hmr update /src/pages/scouts/admin/xen-watch-analytics.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/scouts/analytics?timeFilter=all',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔍 Getting scout analytics with time filter: all
🔍 Starting scout analytics function...
🔍 Time filter condition set to 1=1
🔍 About to execute scout stats query...
4:58:35 PM [express] GET /api/scouts/analytics 304 in 991ms :: {"scoutStats":[{"id":"dbc716f5-c5a1-4…
4:58:53 PM [vite] hmr update /src/pages/scouts/admin/xen-watch-analytics.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/xen-watch/analytics/overview?timeFilter=all',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔍 About to execute scout count query...
🔢 Scout count raw result: {
  fields: [
    {
      name: 'count',
      dataTypeID: 20,
      tableID: 0,
      columnID: 0,
      dataTypeSize: 8,
      dataTypeModifier: -1,
      format: 'text'
    }
  ],
  rows: [ { count: '14' } ],
  command: 'SELECT',
  rowCount: 1,
  rowAsArray: false,
  viaNeonFetch: true,
  _parsers: [ [Function: parseBigInteger] ],
  _types: TypeOverrides {
    _types: {
      getTypeParser: [Function: getTypeParser],
      setTypeParser: [Function: setTypeParser],
      arrayParser: [Object],
      builtins: [Object]
    },
    text: {},
    binary: {}
  }
}
🔢 Scout count rows: [ { count: '14' } ]
🔢 Scout count first row: { count: '14' }
🔢 Scout count from scout_profiles: 14
4:59:56 PM [express] GET /api/xen-watch/analytics/overview 304 in 2556ms :: {"totals":{"total_submis…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/xen-watch/analytics/overview?timeFilter=all',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔍 About to execute scout count query...
🔢 Scout count raw result: {
  fields: [
    {
      name: 'count',
      dataTypeID: 20,
      tableID: 0,
      columnID: 0,
      dataTypeSize: 8,
      dataTypeModifier: -1,
      format: 'text'
    }
  ],
  rows: [ { count: '14' } ],
  command: 'SELECT',
  rowCount: 1,
  rowAsArray: false,
  viaNeonFetch: true,
  _parsers: [ [Function: parseBigInteger] ],
  _types: TypeOverrides {
    _types: {
      getTypeParser: [Function: getTypeParser],
      setTypeParser: [Function: setTypeParser],
      arrayParser: [Object],
      builtins: [Object]
    },
    text: {},
    binary: {}
  }
}
🔢 Scout count rows: [ { count: '14' } ]
🔢 Scout count first row: { count: '14' }
🔢 Scout count from scout_profiles: 14
5:00:58 PM [express] GET /api/xen-watch/analytics/overview 304 in 2141ms :: {"totals":{"total_submis…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/xen-watch/analytics/overview?timeFilter=all',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔍 About to execute scout count query...
🔢 Scout count raw result: {
  fields: [
    {
      name: 'count',
      dataTypeID: 20,
      tableID: 0,
      columnID: 0,
      dataTypeSize: 8,
      dataTypeModifier: -1,
      format: 'text'
    }
  ],
  rows: [ { count: '14' } ],
  command: 'SELECT',
  rowCount: 1,
  rowAsArray: false,
  viaNeonFetch: true,
  _parsers: [ [Function: parseBigInteger] ],
  _types: TypeOverrides {
    _types: {
      getTypeParser: [Function: getTypeParser],
      setTypeParser: [Function: setTypeParser],
      arrayParser: [Object],
      builtins: [Object]
    },
    text: {},
    binary: {}
  }
}
🔢 Scout count rows: [ { count: '14' } ]
🔢 Scout count first row: { count: '14' }
🔢 Scout count from scout_profiles: 14
5:02:00 PM [express] GET /api/xen-watch/analytics/overview 304 in 2040ms :: {"totals":{"total_submis…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/xen-watch/analytics/overview?timeFilter=all',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔍 About to execute scout count query...
🔢 Scout count raw result: {
  fields: [
    {
      name: 'count',
      dataTypeID: 20,
      tableID: 0,
      columnID: 0,
      dataTypeSize: 8,
      dataTypeModifier: -1,
      format: 'text'
    }
  ],
  rows: [ { count: '14' } ],
  command: 'SELECT',
  rowCount: 1,
  rowAsArray: false,
  viaNeonFetch: true,
  _parsers: [ [Function: parseBigInteger] ],
  _types: TypeOverrides {
    _types: {
      getTypeParser: [Function: getTypeParser],
      setTypeParser: [Function: setTypeParser],
      arrayParser: [Object],
      builtins: [Object]
    },
    text: {},
    binary: {}
  }
}
🔢 Scout count rows: [ { count: '14' } ]
🔢 Scout count first row: { count: '14' }
🔢 Scout count from scout_profiles: 14
5:03:02 PM [express] GET /api/xen-watch/analytics/overview 304 in 2136ms :: {"totals":{"total_submis…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/users/me',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔍 /api/users/me - Auth object: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  role: 'scout_admin',
  schoolId: null
}
🔍 /api/users/me - Database query result: { resultCount: 1, userId: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9' }
🔍 /api/users/me - Final schoolId: { dbSchoolId: null, jwtSchoolId: null, finalSchoolId: null }
🔍 Admin profile picture: {
  role: 'scout_admin',
  profilePicUrl: 'https://res.cloudinary.com/dh9cfkyhc/image/upload/v1758772148/lockerroom/profilePic/nfhezrnrpkk3lgslxtne.jpg'
}
✅ /api/users/me - Returning user data: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  role: 'scout_admin',
  schoolId: null,
  profilePicUrl: 'https://res.cloudinary.com/dh9cfkyhc/image/upload/v1758772148/lockerroom/profilePic/nfhezrnrpkk3lgslxtne.jpg'
}
5:03:36 PM [express] GET /api/users/me 304 in 1704ms :: {"id":"3781838b-f36c-42a6-ad8b-2cc4e892cbb9"…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/scouts/detailed?page=1&limit=20',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/scouts/analytics?timeFilter=all',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔍 Getting scout analytics with time filter: all
🔍 Starting scout analytics function...
🔍 Time filter condition set to 1=1
🔍 About to execute scout stats query...
5:03:38 PM [express] GET /api/scouts/analytics 304 in 1187ms :: {"scoutStats":[{"id":"dbc716f5-c5a1-…
5:03:38 PM [express] GET /api/scouts/detailed 304 in 1197ms :: {"scouts":[{"id":"0eca580f-6faa-4756-…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/scouts/detailed?page=1&limit=20',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:04:39 PM [express] GET /api/scouts/detailed 304 in 1596ms :: {"scouts":[{"id":"0eca580f-6faa-4756-…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/scouts/detailed?page=1&limit=20',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:05:41 PM [express] GET /api/scouts/detailed 304 in 1882ms :: {"scouts":[{"id":"0eca580f-6faa-4756-…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/users/me',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔍 /api/users/me - Auth object: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  role: 'scout_admin',
  schoolId: null
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/xen-watch/analytics/overview?timeFilter=all',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/scouts/analytics?timeFilter=all',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔍 Getting scout analytics with time filter: all
🔍 Starting scout analytics function...
🔍 Time filter condition set to 1=1
🔍 About to execute scout stats query...
🔍 About to execute scout count query...
🔍 /api/users/me - Database query result: { resultCount: 1, userId: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9' }
🔍 /api/users/me - Final schoolId: { dbSchoolId: null, jwtSchoolId: null, finalSchoolId: null }
🔢 Scout count raw result: {
  fields: [
    {
      name: 'count',
      dataTypeID: 20,
      tableID: 0,
      columnID: 0,
      dataTypeSize: 8,
      dataTypeModifier: -1,
      format: 'text'
    }
  ],
  rows: [ { count: '14' } ],
  command: 'SELECT',
  rowCount: 1,
  rowAsArray: false,
  viaNeonFetch: true,
  _parsers: [ [Function: parseBigInteger] ],
  _types: TypeOverrides {
    _types: {
      getTypeParser: [Function: getTypeParser],
      setTypeParser: [Function: setTypeParser],
      arrayParser: [Object],
      builtins: [Object]
    },
    text: {},
    binary: {}
  }
}
🔢 Scout count rows: [ { count: '14' } ]
🔢 Scout count first row: { count: '14' }
🔢 Scout count from scout_profiles: 14
🔍 Admin profile picture: {
  role: 'scout_admin',
  profilePicUrl: 'https://res.cloudinary.com/dh9cfkyhc/image/upload/v1758772148/lockerroom/profilePic/nfhezrnrpkk3lgslxtne.jpg'
}
✅ /api/users/me - Returning user data: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  role: 'scout_admin',
  schoolId: null,
  profilePicUrl: 'https://res.cloudinary.com/dh9cfkyhc/image/upload/v1758772148/lockerroom/profilePic/nfhezrnrpkk3lgslxtne.jpg'
}
5:06:14 PM [express] GET /api/users/me 304 in 1723ms :: {"id":"3781838b-f36c-42a6-ad8b-2cc4e892cbb9"…
5:06:14 PM [express] GET /api/xen-watch/analytics/overview 304 in 1730ms :: {"totals":{"total_submis…
5:06:14 PM [express] GET /api/scouts/analytics 304 in 2239ms :: {"scoutStats":[{"id":"dbc716f5-c5a1-…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/xen-watch/analytics/overview',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔍 About to execute scout count query...
🔢 Scout count raw result: {
  fields: [
    {
      name: 'count',
      dataTypeID: 20,
      tableID: 0,
      columnID: 0,
      dataTypeSize: 8,
      dataTypeModifier: -1,
      format: 'text'
    }
  ],
  rows: [ { count: '14' } ],
  command: 'SELECT',
  rowCount: 1,
  rowAsArray: false,
  viaNeonFetch: true,
  _parsers: [ [Function: parseBigInteger] ],
  _types: TypeOverrides {
    _types: {
      getTypeParser: [Function: getTypeParser],
      setTypeParser: [Function: setTypeParser],
      arrayParser: [Object],
      builtins: [Object]
    },
    text: {},
    binary: {}
  }
}
🔢 Scout count rows: [ { count: '14' } ]
🔢 Scout count first row: { count: '14' }
🔢 Scout count from scout_profiles: 14
5:06:33 PM [express] GET /api/xen-watch/analytics/overview 304 in 2289ms :: {"totals":{"total_submis…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/xen-watch/analytics/overview',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔍 About to execute scout count query...
🔢 Scout count raw result: {
  fields: [
    {
      name: 'count',
      dataTypeID: 20,
      tableID: 0,
      columnID: 0,
      dataTypeSize: 8,
      dataTypeModifier: -1,
      format: 'text'
    }
  ],
  rows: [ { count: '14' } ],
  command: 'SELECT',
  rowCount: 1,
  rowAsArray: false,
  viaNeonFetch: true,
  _parsers: [ [Function: parseBigInteger] ],
  _types: TypeOverrides {
    _types: {
      getTypeParser: [Function: getTypeParser],
      setTypeParser: [Function: setTypeParser],
      arrayParser: [Object],
      builtins: [Object]
    },
    text: {},
    binary: {}
  }
}
🔢 Scout count rows: [ { count: '14' } ]
🔢 Scout count first row: { count: '14' }
🔢 Scout count from scout_profiles: 14
5:07:36 PM [express] GET /api/xen-watch/analytics/overview 304 in 2550ms :: {"totals":{"total_submis…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/users/me',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔍 /api/users/me - Auth object: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  role: 'scout_admin',
  schoolId: null
}
🔍 /api/users/me - Database query result: { resultCount: 1, userId: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9' }
🔍 /api/users/me - Final schoolId: { dbSchoolId: null, jwtSchoolId: null, finalSchoolId: null }
🔍 Admin profile picture: {
  role: 'scout_admin',
  profilePicUrl: 'https://res.cloudinary.com/dh9cfkyhc/image/upload/v1758772148/lockerroom/profilePic/nfhezrnrpkk3lgslxtne.jpg'
}
✅ /api/users/me - Returning user data: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  role: 'scout_admin',
  schoolId: null,
  profilePicUrl: 'https://res.cloudinary.com/dh9cfkyhc/image/upload/v1758772148/lockerroom/profilePic/nfhezrnrpkk3lgslxtne.jpg'
}
5:07:57 PM [express] GET /api/users/me 304 in 1522ms :: {"id":"3781838b-f36c-42a6-ad8b-2cc4e892cbb9"…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/scouts/detailed?page=1&limit=20',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/scouts/analytics?timeFilter=all',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔍 Getting scout analytics with time filter: all
🔍 Starting scout analytics function...
🔍 Time filter condition set to 1=1
🔍 About to execute scout stats query...
5:07:58 PM [express] GET /api/scouts/analytics 304 in 996ms :: {"scoutStats":[{"id":"dbc716f5-c5a1-4…
5:07:58 PM [express] GET /api/scouts/detailed 304 in 1000ms :: {"scouts":[{"id":"0eca580f-6faa-4756-…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/feed?limit=12&offset=0',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:08:18 PM [express] GET /api/posts/feed 200 in 2035ms :: {"posts":[{"id":"5cabbad9-3afe-4074-8896-3…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/5cabbad9-3afe-4074-8896-3b37571c4d93/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/8677a52d-2add-4550-9441-715d0693e4bb/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/f1765b2f-b1fd-4108-bcd4-99b5381d320a/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/ac3dba29-9574-492d-abb8-b8a88e555d3e/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/223ff8b7-8a18-4b1e-bea9-065cd4e5a4d6/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/92b8399e-89dc-4a35-9107-3c18f7b3a669/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:08:20 PM [express] POST /api/posts/5cabbad9-3afe-4074-8896-3b37571c4d93/view 200 in 245ms :: {"suc…
5:08:20 PM [express] POST /api/posts/8677a52d-2add-4550-9441-715d0693e4bb/view 200 in 241ms :: {"suc…
5:08:20 PM [express] POST /api/posts/ac3dba29-9574-492d-abb8-b8a88e555d3e/view 200 in 237ms :: {"suc…
5:08:20 PM [express] POST /api/posts/223ff8b7-8a18-4b1e-bea9-065cd4e5a4d6/view 200 in 238ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/0cec5ed2-e42a-4c6c-bc28-b008a5b2f660/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/d35e2229-10b4-4731-bd63-004128d70b2f/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/bde6e23c-82c7-439d-859d-86835d43ad62/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:08:20 PM [express] POST /api/posts/92b8399e-89dc-4a35-9107-3c18f7b3a669/view 200 in 244ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/17f54087-5238-4e20-9e7e-b2c8768449cb/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/79a6c465-70df-48f6-970d-72ea43da54f0/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:08:20 PM [express] POST /api/posts/f1765b2f-b1fd-4108-bcd4-99b5381d320a/view 200 in 254ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/648a3943-879e-4a8c-872d-5ed8884bc949/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:08:20 PM [express] POST /api/posts/0cec5ed2-e42a-4c6c-bc28-b008a5b2f660/view 200 in 299ms :: {"suc…
5:08:20 PM [express] POST /api/posts/d35e2229-10b4-4731-bd63-004128d70b2f/view 200 in 298ms :: {"suc…
5:08:20 PM [express] POST /api/posts/17f54087-5238-4e20-9e7e-b2c8768449cb/view 200 in 294ms :: {"suc…
5:08:20 PM [express] POST /api/posts/bde6e23c-82c7-439d-859d-86835d43ad62/view 200 in 298ms :: {"suc…
5:08:20 PM [express] POST /api/posts/79a6c465-70df-48f6-970d-72ea43da54f0/view 200 in 294ms :: {"suc…
5:08:20 PM [express] POST /api/posts/648a3943-879e-4a8c-872d-5ed8884bc949/view 200 in 292ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/xen-watch/analytics/overview?timeFilter=all',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔍 About to execute scout count query...
🔢 Scout count raw result: {
  fields: [
    {
      name: 'count',
      dataTypeID: 20,
      tableID: 0,
      columnID: 0,
      dataTypeSize: 8,
      dataTypeModifier: -1,
      format: 'text'
    }
  ],
  rows: [ { count: '14' } ],
  command: 'SELECT',
  rowCount: 1,
  rowAsArray: false,
  viaNeonFetch: true,
  _parsers: [ [Function: parseBigInteger] ],
  _types: TypeOverrides {
    _types: {
      getTypeParser: [Function: getTypeParser],
      setTypeParser: [Function: setTypeParser],
      arrayParser: [Object],
      builtins: [Object]
    },
    text: {},
    binary: {}
  }
}
🔢 Scout count rows: [ { count: '14' } ]
🔢 Scout count first row: { count: '14' }
🔢 Scout count from scout_profiles: 14
5:08:25 PM [express] GET /api/xen-watch/analytics/overview 304 in 986ms :: {"totals":{"total_submiss…
🔐 Auth middleware: { hasToken: true, tokenLength: 341, url: '/api/scouts', method: 'GET' }
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:08:42 PM [express] GET /api/scouts 403 in 4ms :: {"error":{"code":"forbidden","message":"Insuffici…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/scout-admin/dashboard',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:08:44 PM [express] GET /api/scout-admin/dashboard 304 in 2073ms :: {"submissions":[{"id":"5b1397ba…
5:11:23 PM [vite] hmr update /src/components/navigation/mobile-nav.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
5:11:42 PM [vite] hmr update /src/pages/scouts/admin/xen-watch-analytics.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/users/me',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔍 /api/users/me - Auth object: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  role: 'scout_admin',
  schoolId: null
}
🔍 /api/users/me - Database query result: { resultCount: 1, userId: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9' }
🔍 /api/users/me - Final schoolId: { dbSchoolId: null, jwtSchoolId: null, finalSchoolId: null }
🔍 Admin profile picture: {
  role: 'scout_admin',
  profilePicUrl: 'https://res.cloudinary.com/dh9cfkyhc/image/upload/v1758772148/lockerroom/profilePic/nfhezrnrpkk3lgslxtne.jpg'
}
✅ /api/users/me - Returning user data: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  role: 'scout_admin',
  schoolId: null,
  profilePicUrl: 'https://res.cloudinary.com/dh9cfkyhc/image/upload/v1758772148/lockerroom/profilePic/nfhezrnrpkk3lgslxtne.jpg'
}
5:11:44 PM [express] GET /api/users/me 304 in 1545ms :: {"id":"3781838b-f36c-42a6-ad8b-2cc4e892cbb9"…
🔐 Auth middleware: { hasToken: true, tokenLength: 341, url: '/api/scouts', method: 'GET' }
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:11:44 PM [express] GET /api/scouts 403 in 3ms :: {"error":{"code":"forbidden","message":"Insuffici…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/scout-admin/dashboard',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:11:45 PM [express] GET /api/scout-admin/dashboard 304 in 775ms :: {"submissions":[{"id":"5b1397ba-…
5:11:46 PM [vite] hmr update /src/pages/scouts/admin/xen-watch-analytics.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
5:11:49 PM [vite] hmr update /src/pages/scouts/admin/xen-watch-analytics.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
5:11:56 PM [vite] hmr update /src/pages/scouts/admin/xen-watch-analytics.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
5:12:01 PM [vite] hmr update /src/pages/scouts/admin/xen-watch-analytics.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
5:12:04 PM [vite] hmr update /src/pages/scouts/admin/xen-watch-analytics.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
5:12:13 PM [vite] hmr update /src/pages/scouts/admin/xen-watch-analytics.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
5:12:30 PM [vite] hmr update /src/pages/scouts/admin/xen-watch-analytics.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
5:12:42 PM [vite] hmr update /src/pages/scouts/admin/xen-watch-analytics.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
🔐 Auth middleware: { hasToken: true, tokenLength: 341, url: '/api/scouts', method: 'GET' }
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:12:45 PM [express] GET /api/scouts 403 in 1ms :: {"error":{"code":"forbidden","message":"Insuffici…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/users/me',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔍 /api/users/me - Auth object: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  role: 'scout_admin',
  schoolId: null
}
🔍 /api/users/me - Database query result: { resultCount: 1, userId: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9' }
🔍 /api/users/me - Final schoolId: { dbSchoolId: null, jwtSchoolId: null, finalSchoolId: null }
🔍 Admin profile picture: {
  role: 'scout_admin',
  profilePicUrl: 'https://res.cloudinary.com/dh9cfkyhc/image/upload/v1758772148/lockerroom/profilePic/nfhezrnrpkk3lgslxtne.jpg'
}
✅ /api/users/me - Returning user data: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  role: 'scout_admin',
  schoolId: null,
  profilePicUrl: 'https://res.cloudinary.com/dh9cfkyhc/image/upload/v1758772148/lockerroom/profilePic/nfhezrnrpkk3lgslxtne.jpg'
}
5:12:51 PM [express] GET /api/users/me 304 in 1511ms :: {"id":"3781838b-f36c-42a6-ad8b-2cc4e892cbb9"…
5:13:04 PM [vite] hmr update /src/pages/scouts/admin/manage-scouts.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/scout-admin/dashboard',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:13:06 PM [express] GET /api/scout-admin/dashboard 304 in 1771ms :: {"submissions":[{"id":"5b1397ba…
5:13:08 PM [vite] hmr update /src/pages/scouts/admin/manage-scouts.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
5:13:11 PM [vite] hmr update /src/pages/scouts/admin/manage-scouts.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
5:13:48 PM [vite] hmr update /src/pages/scouts/admin/manage-scouts.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
🔐 Auth middleware: { hasToken: true, tokenLength: 341, url: '/api/scouts', method: 'GET' }
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:13:48 PM [express] GET /api/scouts 403 in 2ms :: {"error":{"code":"forbidden","message":"Insuffici…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/users/me',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔍 /api/users/me - Auth object: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  role: 'scout_admin',
  schoolId: null
}
🔍 /api/users/me - Database query result: { resultCount: 1, userId: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9' }
🔍 /api/users/me - Final schoolId: { dbSchoolId: null, jwtSchoolId: null, finalSchoolId: null }
🔍 Admin profile picture: {
  role: 'scout_admin',
  profilePicUrl: 'https://res.cloudinary.com/dh9cfkyhc/image/upload/v1758772148/lockerroom/profilePic/nfhezrnrpkk3lgslxtne.jpg'
}
✅ /api/users/me - Returning user data: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  role: 'scout_admin',
  schoolId: null,
  profilePicUrl: 'https://res.cloudinary.com/dh9cfkyhc/image/upload/v1758772148/lockerroom/profilePic/nfhezrnrpkk3lgslxtne.jpg'
}
5:13:57 PM [express] GET /api/users/me 304 in 1406ms :: {"id":"3781838b-f36c-42a6-ad8b-2cc4e892cbb9"…
5:14:06 PM [vite] hmr update /src/pages/scouts/admin/manage-scouts.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
5:14:06 PM [vite] hmr update /src/components/navigation/mobile-nav.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
5:14:06 PM [vite] hmr update /src/pages/scouts/admin/xen-watch-analytics.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
5:25:45 PM [vite] hmr update /src/pages/scouts/admin/xen-watch-analytics.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/users/me',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔍 /api/users/me - Auth object: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  role: 'scout_admin',
  schoolId: null
}
🔍 /api/users/me - Database query result: { resultCount: 1, userId: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9' }
🔍 /api/users/me - Final schoolId: { dbSchoolId: null, jwtSchoolId: null, finalSchoolId: null }
🔍 Admin profile picture: {
  role: 'scout_admin',
  profilePicUrl: 'https://res.cloudinary.com/dh9cfkyhc/image/upload/v1758772148/lockerroom/profilePic/nfhezrnrpkk3lgslxtne.jpg'
}
✅ /api/users/me - Returning user data: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  role: 'scout_admin',
  schoolId: null,
  profilePicUrl: 'https://res.cloudinary.com/dh9cfkyhc/image/upload/v1758772148/lockerroom/profilePic/nfhezrnrpkk3lgslxtne.jpg'
}
5:25:47 PM [express] GET /api/users/me 304 in 2035ms :: {"id":"3781838b-f36c-42a6-ad8b-2cc4e892cbb9"…
🔐 Auth middleware: { hasToken: true, tokenLength: 341, url: '/api/scouts', method: 'GET' }
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:25:47 PM [express] GET /api/scouts 403 in 2ms :: {"error":{"code":"forbidden","message":"Insuffici…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/scout-admin/dashboard',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:25:48 PM [express] GET /api/scout-admin/dashboard 304 in 811ms :: {"submissions":[{"id":"5b1397ba-…
5:27:13 PM [vite] hmr update /src/components/navigation/mobile-nav.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/users/me',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔍 /api/users/me - Auth object: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  role: 'scout_admin',
  schoolId: null
}
🔍 /api/users/me - Database query result: { resultCount: 1, userId: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9' }
🔍 /api/users/me - Final schoolId: { dbSchoolId: null, jwtSchoolId: null, finalSchoolId: null }
🔍 Admin profile picture: {
  role: 'scout_admin',
  profilePicUrl: 'https://res.cloudinary.com/dh9cfkyhc/image/upload/v1758772148/lockerroom/profilePic/nfhezrnrpkk3lgslxtne.jpg'
}
✅ /api/users/me - Returning user data: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  role: 'scout_admin',
  schoolId: null,
  profilePicUrl: 'https://res.cloudinary.com/dh9cfkyhc/image/upload/v1758772148/lockerroom/profilePic/nfhezrnrpkk3lgslxtne.jpg'
}
5:27:15 PM [express] GET /api/users/me 304 in 1597ms :: {"id":"3781838b-f36c-42a6-ad8b-2cc4e892cbb9"…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/xen-watch/analytics/overview',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔍 About to execute scout count query...
🔢 Scout count raw result: {
  fields: [
    {
      name: 'count',
      dataTypeID: 20,
      tableID: 0,
      columnID: 0,
      dataTypeSize: 8,
      dataTypeModifier: -1,
      format: 'text'
    }
  ],
  rows: [ { count: '14' } ],
  command: 'SELECT',
  rowCount: 1,
  rowAsArray: false,
  viaNeonFetch: true,
  _parsers: [ [Function: parseBigInteger] ],
  _types: TypeOverrides {
    _types: {
      getTypeParser: [Function: getTypeParser],
      setTypeParser: [Function: setTypeParser],
      arrayParser: [Object],
      builtins: [Object]
    },
    text: {},
    binary: {}
  }
}
🔢 Scout count rows: [ { count: '14' } ]
🔢 Scout count first row: { count: '14' }
🔢 Scout count from scout_profiles: 14
5:27:16 PM [express] GET /api/xen-watch/analytics/overview 304 in 973ms :: {"totals":{"total_submiss…
5:27:16 PM [vite] hmr update /src/components/navigation/mobile-nav.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/scouts/detailed?page=1&limit=20',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/scouts/analytics?timeFilter=all',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔍 Getting scout analytics with time filter: all
🔍 Starting scout analytics function...
🔍 Time filter condition set to 1=1
🔍 About to execute scout stats query...
5:27:42 PM [express] GET /api/scouts/detailed 304 in 1889ms :: {"scouts":[{"id":"0eca580f-6faa-4756-…
5:27:42 PM [express] GET /api/scouts/analytics 304 in 2372ms :: {"scoutStats":[{"id":"dbc716f5-c5a1-…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/users/me',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔍 /api/users/me - Auth object: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  role: 'scout_admin',
  schoolId: null
}
🔍 /api/users/me - Database query result: { resultCount: 1, userId: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9' }
🔍 /api/users/me - Final schoolId: { dbSchoolId: null, jwtSchoolId: null, finalSchoolId: null }
🔍 Admin profile picture: {
  role: 'scout_admin',
  profilePicUrl: 'https://res.cloudinary.com/dh9cfkyhc/image/upload/v1758772148/lockerroom/profilePic/nfhezrnrpkk3lgslxtne.jpg'
}
✅ /api/users/me - Returning user data: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  role: 'scout_admin',
  schoolId: null,
  profilePicUrl: 'https://res.cloudinary.com/dh9cfkyhc/image/upload/v1758772148/lockerroom/profilePic/nfhezrnrpkk3lgslxtne.jpg'
}
5:28:22 PM [express] GET /api/users/me 304 in 1433ms :: {"id":"3781838b-f36c-42a6-ad8b-2cc4e892cbb9"…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/feed?limit=12&offset=0',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:28:23 PM [express] GET /api/posts/feed 200 in 1265ms :: {"posts":[{"id":"5cabbad9-3afe-4074-8896-3…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/5cabbad9-3afe-4074-8896-3b37571c4d93/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/8677a52d-2add-4550-9441-715d0693e4bb/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/f1765b2f-b1fd-4108-bcd4-99b5381d320a/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/ac3dba29-9574-492d-abb8-b8a88e555d3e/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/223ff8b7-8a18-4b1e-bea9-065cd4e5a4d6/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/92b8399e-89dc-4a35-9107-3c18f7b3a669/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:28:25 PM [express] POST /api/posts/f1765b2f-b1fd-4108-bcd4-99b5381d320a/view 200 in 238ms :: {"suc…
5:28:25 PM [express] POST /api/posts/8677a52d-2add-4550-9441-715d0693e4bb/view 200 in 240ms :: {"suc…
5:28:25 PM [express] POST /api/posts/92b8399e-89dc-4a35-9107-3c18f7b3a669/view 200 in 232ms :: {"suc…
5:28:25 PM [express] POST /api/posts/5cabbad9-3afe-4074-8896-3b37571c4d93/view 200 in 254ms :: {"suc…
5:28:25 PM [express] POST /api/posts/ac3dba29-9574-492d-abb8-b8a88e555d3e/view 200 in 241ms :: {"suc…
5:28:25 PM [express] POST /api/posts/223ff8b7-8a18-4b1e-bea9-065cd4e5a4d6/view 200 in 236ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/0cec5ed2-e42a-4c6c-bc28-b008a5b2f660/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/d35e2229-10b4-4731-bd63-004128d70b2f/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/bde6e23c-82c7-439d-859d-86835d43ad62/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/17f54087-5238-4e20-9e7e-b2c8768449cb/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/79a6c465-70df-48f6-970d-72ea43da54f0/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/648a3943-879e-4a8c-872d-5ed8884bc949/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:28:25 PM [express] POST /api/posts/0cec5ed2-e42a-4c6c-bc28-b008a5b2f660/view 200 in 234ms :: {"suc…
5:28:25 PM [express] POST /api/posts/d35e2229-10b4-4731-bd63-004128d70b2f/view 200 in 233ms :: {"suc…
5:28:25 PM [express] POST /api/posts/bde6e23c-82c7-439d-859d-86835d43ad62/view 200 in 233ms :: {"suc…
5:28:25 PM [express] POST /api/posts/648a3943-879e-4a8c-872d-5ed8884bc949/view 200 in 230ms :: {"suc…
5:28:25 PM [express] POST /api/posts/79a6c465-70df-48f6-970d-72ea43da54f0/view 200 in 232ms :: {"suc…
5:28:25 PM [express] POST /api/posts/17f54087-5238-4e20-9e7e-b2c8768449cb/view 200 in 235ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/5cabbad9-3afe-4074-8896-3b37571c4d93/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/8677a52d-2add-4550-9441-715d0693e4bb/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/f1765b2f-b1fd-4108-bcd4-99b5381d320a/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/ac3dba29-9574-492d-abb8-b8a88e555d3e/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/223ff8b7-8a18-4b1e-bea9-065cd4e5a4d6/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/92b8399e-89dc-4a35-9107-3c18f7b3a669/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:28:28 PM [express] POST /api/posts/5cabbad9-3afe-4074-8896-3b37571c4d93/view 200 in 238ms :: {"suc…
5:28:28 PM [express] POST /api/posts/8677a52d-2add-4550-9441-715d0693e4bb/view 200 in 237ms :: {"suc…
5:28:28 PM [express] POST /api/posts/f1765b2f-b1fd-4108-bcd4-99b5381d320a/view 200 in 237ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/0cec5ed2-e42a-4c6c-bc28-b008a5b2f660/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:28:28 PM [express] POST /api/posts/223ff8b7-8a18-4b1e-bea9-065cd4e5a4d6/view 200 in 237ms :: {"suc…
5:28:28 PM [express] POST /api/posts/ac3dba29-9574-492d-abb8-b8a88e555d3e/view 200 in 239ms :: {"suc…
5:28:28 PM [express] POST /api/posts/92b8399e-89dc-4a35-9107-3c18f7b3a669/view 200 in 236ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/d35e2229-10b4-4731-bd63-004128d70b2f/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/bde6e23c-82c7-439d-859d-86835d43ad62/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/17f54087-5238-4e20-9e7e-b2c8768449cb/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/79a6c465-70df-48f6-970d-72ea43da54f0/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/648a3943-879e-4a8c-872d-5ed8884bc949/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:28:29 PM [express] POST /api/posts/0cec5ed2-e42a-4c6c-bc28-b008a5b2f660/view 200 in 234ms :: {"suc…
5:28:29 PM [express] POST /api/posts/79a6c465-70df-48f6-970d-72ea43da54f0/view 200 in 232ms :: {"suc…
5:28:29 PM [express] POST /api/posts/d35e2229-10b4-4731-bd63-004128d70b2f/view 200 in 239ms :: {"suc…
5:28:29 PM [express] POST /api/posts/648a3943-879e-4a8c-872d-5ed8884bc949/view 200 in 235ms :: {"suc…
5:28:29 PM [express] POST /api/posts/bde6e23c-82c7-439d-859d-86835d43ad62/view 200 in 240ms :: {"suc…
5:28:29 PM [express] POST /api/posts/17f54087-5238-4e20-9e7e-b2c8768449cb/view 200 in 239ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/xen-watch/analytics/overview',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔍 About to execute scout count query...
🔢 Scout count raw result: {
  fields: [
    {
      name: 'count',
      dataTypeID: 20,
      tableID: 0,
      columnID: 0,
      dataTypeSize: 8,
      dataTypeModifier: -1,
      format: 'text'
    }
  ],
  rows: [ { count: '14' } ],
  command: 'SELECT',
  rowCount: 1,
  rowAsArray: false,
  viaNeonFetch: true,
  _parsers: [ [Function: parseBigInteger] ],
  _types: TypeOverrides {
    _types: {
      getTypeParser: [Function: getTypeParser],
      setTypeParser: [Function: setTypeParser],
      arrayParser: [Object],
      builtins: [Object]
    },
    text: {},
    binary: {}
  }
}
🔢 Scout count rows: [ { count: '14' } ]
🔢 Scout count first row: { count: '14' }
🔢 Scout count from scout_profiles: 14
5:28:31 PM [express] GET /api/xen-watch/analytics/overview 304 in 943ms :: {"totals":{"total_submiss…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/5cabbad9-3afe-4074-8896-3b37571c4d93/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/8677a52d-2add-4550-9441-715d0693e4bb/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/f1765b2f-b1fd-4108-bcd4-99b5381d320a/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/ac3dba29-9574-492d-abb8-b8a88e555d3e/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/223ff8b7-8a18-4b1e-bea9-065cd4e5a4d6/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/92b8399e-89dc-4a35-9107-3c18f7b3a669/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:28:35 PM [express] POST /api/posts/8677a52d-2add-4550-9441-715d0693e4bb/view 200 in 236ms :: {"suc…
5:28:35 PM [express] POST /api/posts/5cabbad9-3afe-4074-8896-3b37571c4d93/view 200 in 249ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/0cec5ed2-e42a-4c6c-bc28-b008a5b2f660/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/d35e2229-10b4-4731-bd63-004128d70b2f/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:28:35 PM [express] POST /api/posts/0cec5ed2-e42a-4c6c-bc28-b008a5b2f660/view 200 in 235ms :: {"suc…
5:28:35 PM [express] POST /api/posts/d35e2229-10b4-4731-bd63-004128d70b2f/view 200 in 232ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/bde6e23c-82c7-439d-859d-86835d43ad62/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/17f54087-5238-4e20-9e7e-b2c8768449cb/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:28:35 PM [express] POST /api/posts/bde6e23c-82c7-439d-859d-86835d43ad62/view 200 in 235ms :: {"suc…
5:28:35 PM [express] POST /api/posts/17f54087-5238-4e20-9e7e-b2c8768449cb/view 200 in 238ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/79a6c465-70df-48f6-970d-72ea43da54f0/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/648a3943-879e-4a8c-872d-5ed8884bc949/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:28:35 PM [express] POST /api/posts/ac3dba29-9574-492d-abb8-b8a88e555d3e/view 200 in 796ms :: {"suc…
5:28:35 PM [express] POST /api/posts/f1765b2f-b1fd-4108-bcd4-99b5381d320a/view 200 in 803ms :: {"suc…
5:28:35 PM [express] POST /api/posts/92b8399e-89dc-4a35-9107-3c18f7b3a669/view 200 in 795ms :: {"suc…
5:28:35 PM [express] POST /api/posts/223ff8b7-8a18-4b1e-bea9-065cd4e5a4d6/view 200 in 800ms :: {"suc…
5:28:36 PM [express] POST /api/posts/648a3943-879e-4a8c-872d-5ed8884bc949/view 200 in 234ms :: {"suc…
5:28:36 PM [express] POST /api/posts/79a6c465-70df-48f6-970d-72ea43da54f0/view 200 in 318ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/users/me',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔍 /api/users/me - Auth object: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  role: 'scout_admin',
  schoolId: null
}
🔍 /api/users/me - Database query result: { resultCount: 1, userId: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9' }
🔍 /api/users/me - Final schoolId: { dbSchoolId: null, jwtSchoolId: null, finalSchoolId: null }
🔍 Admin profile picture: {
  role: 'scout_admin',
  profilePicUrl: 'https://res.cloudinary.com/dh9cfkyhc/image/upload/v1758772148/lockerroom/profilePic/nfhezrnrpkk3lgslxtne.jpg'
}
✅ /api/users/me - Returning user data: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  role: 'scout_admin',
  schoolId: null,
  profilePicUrl: 'https://res.cloudinary.com/dh9cfkyhc/image/upload/v1758772148/lockerroom/profilePic/nfhezrnrpkk3lgslxtne.jpg'
}
5:32:01 PM [express] GET /api/users/me 304 in 1603ms :: {"id":"3781838b-f36c-42a6-ad8b-2cc4e892cbb9"…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/feed?limit=12&offset=0',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/5cabbad9-3afe-4074-8896-3b37571c4d93/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/8677a52d-2add-4550-9441-715d0693e4bb/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/f1765b2f-b1fd-4108-bcd4-99b5381d320a/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/ac3dba29-9574-492d-abb8-b8a88e555d3e/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/223ff8b7-8a18-4b1e-bea9-065cd4e5a4d6/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:32:03 PM [express] GET /api/posts/feed 200 in 1242ms :: {"posts":[{"id":"5cabbad9-3afe-4074-8896-3…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/92b8399e-89dc-4a35-9107-3c18f7b3a669/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:32:03 PM [express] POST /api/posts/8677a52d-2add-4550-9441-715d0693e4bb/view 200 in 232ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/0cec5ed2-e42a-4c6c-bc28-b008a5b2f660/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:32:03 PM [express] POST /api/posts/5cabbad9-3afe-4074-8896-3b37571c4d93/view 200 in 243ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/d35e2229-10b4-4731-bd63-004128d70b2f/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:32:03 PM [express] POST /api/posts/92b8399e-89dc-4a35-9107-3c18f7b3a669/view 200 in 243ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/bde6e23c-82c7-439d-859d-86835d43ad62/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:32:03 PM [express] POST /api/posts/0cec5ed2-e42a-4c6c-bc28-b008a5b2f660/view 200 in 233ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/17f54087-5238-4e20-9e7e-b2c8768449cb/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:32:03 PM [express] POST /api/posts/d35e2229-10b4-4731-bd63-004128d70b2f/view 200 in 241ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/79a6c465-70df-48f6-970d-72ea43da54f0/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:32:03 PM [express] POST /api/posts/17f54087-5238-4e20-9e7e-b2c8768449cb/view 200 in 237ms :: {"suc…
5:32:03 PM [express] POST /api/posts/223ff8b7-8a18-4b1e-bea9-065cd4e5a4d6/view 200 in 695ms :: {"suc…
5:32:03 PM [express] POST /api/posts/bde6e23c-82c7-439d-859d-86835d43ad62/view 200 in 270ms :: {"suc…
5:32:03 PM [express] POST /api/posts/f1765b2f-b1fd-4108-bcd4-99b5381d320a/view 200 in 708ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/648a3943-879e-4a8c-872d-5ed8884bc949/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:32:03 PM [express] POST /api/posts/79a6c465-70df-48f6-970d-72ea43da54f0/view 200 in 242ms :: {"suc…
5:32:03 PM [express] POST /api/posts/ac3dba29-9574-492d-abb8-b8a88e555d3e/view 200 in 720ms :: {"suc…
5:32:04 PM [express] POST /api/posts/648a3943-879e-4a8c-872d-5ed8884bc949/view 200 in 291ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/5cabbad9-3afe-4074-8896-3b37571c4d93/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/8677a52d-2add-4550-9441-715d0693e4bb/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/f1765b2f-b1fd-4108-bcd4-99b5381d320a/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/ac3dba29-9574-492d-abb8-b8a88e555d3e/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/223ff8b7-8a18-4b1e-bea9-065cd4e5a4d6/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/92b8399e-89dc-4a35-9107-3c18f7b3a669/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:32:04 PM [express] POST /api/posts/8677a52d-2add-4550-9441-715d0693e4bb/view 200 in 234ms :: {"suc…
5:32:04 PM [express] POST /api/posts/5cabbad9-3afe-4074-8896-3b37571c4d93/view 200 in 242ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/0cec5ed2-e42a-4c6c-bc28-b008a5b2f660/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/d35e2229-10b4-4731-bd63-004128d70b2f/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:32:04 PM [express] POST /api/posts/f1765b2f-b1fd-4108-bcd4-99b5381d320a/view 200 in 238ms :: {"suc…
5:32:04 PM [express] POST /api/posts/ac3dba29-9574-492d-abb8-b8a88e555d3e/view 200 in 236ms :: {"suc…
5:32:04 PM [express] POST /api/posts/223ff8b7-8a18-4b1e-bea9-065cd4e5a4d6/view 200 in 234ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/bde6e23c-82c7-439d-859d-86835d43ad62/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:32:04 PM [express] POST /api/posts/92b8399e-89dc-4a35-9107-3c18f7b3a669/view 200 in 235ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/17f54087-5238-4e20-9e7e-b2c8768449cb/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/79a6c465-70df-48f6-970d-72ea43da54f0/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/648a3943-879e-4a8c-872d-5ed8884bc949/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:32:04 PM [express] POST /api/posts/d35e2229-10b4-4731-bd63-004128d70b2f/view 200 in 263ms :: {"suc…
5:32:04 PM [express] POST /api/posts/0cec5ed2-e42a-4c6c-bc28-b008a5b2f660/view 200 in 267ms :: {"suc…
5:32:04 PM [express] POST /api/posts/17f54087-5238-4e20-9e7e-b2c8768449cb/view 200 in 262ms :: {"suc…
5:32:04 PM [express] POST /api/posts/bde6e23c-82c7-439d-859d-86835d43ad62/view 200 in 267ms :: {"suc…
5:32:04 PM [express] POST /api/posts/79a6c465-70df-48f6-970d-72ea43da54f0/view 200 in 266ms :: {"suc…
5:32:04 PM [express] POST /api/posts/648a3943-879e-4a8c-872d-5ed8884bc949/view 200 in 265ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/users/me',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔍 /api/users/me - Auth object: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  role: 'scout_admin',
  schoolId: null
}
🔍 /api/users/me - Database query result: { resultCount: 1, userId: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9' }
🔍 /api/users/me - Final schoolId: { dbSchoolId: null, jwtSchoolId: null, finalSchoolId: null }
🔍 Admin profile picture: {
  role: 'scout_admin',
  profilePicUrl: 'https://res.cloudinary.com/dh9cfkyhc/image/upload/v1758772148/lockerroom/profilePic/nfhezrnrpkk3lgslxtne.jpg'
}
✅ /api/users/me - Returning user data: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  role: 'scout_admin',
  schoolId: null,
  profilePicUrl: 'https://res.cloudinary.com/dh9cfkyhc/image/upload/v1758772148/lockerroom/profilePic/nfhezrnrpkk3lgslxtne.jpg'
}
5:33:29 PM [express] GET /api/users/me 304 in 1495ms :: {"id":"3781838b-f36c-42a6-ad8b-2cc4e892cbb9"…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/xen-watch/analytics/overview',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔍 About to execute scout count query...
🔢 Scout count raw result: {
  fields: [
    {
      name: 'count',
      dataTypeID: 20,
      tableID: 0,
      columnID: 0,
      dataTypeSize: 8,
      dataTypeModifier: -1,
      format: 'text'
    }
  ],
  rows: [ { count: '14' } ],
  command: 'SELECT',
  rowCount: 1,
  rowAsArray: false,
  viaNeonFetch: true,
  _parsers: [ [Function: parseBigInteger] ],
  _types: TypeOverrides {
    _types: {
      getTypeParser: [Function: getTypeParser],
      setTypeParser: [Function: setTypeParser],
      arrayParser: [Object],
      builtins: [Object]
    },
    text: {},
    binary: {}
  }
}
🔢 Scout count rows: [ { count: '14' } ]
🔢 Scout count first row: { count: '14' }
🔢 Scout count from scout_profiles: 14
5:33:30 PM [express] GET /api/xen-watch/analytics/overview 304 in 953ms :: {"totals":{"total_submiss…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/feed?limit=12&offset=0',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/5cabbad9-3afe-4074-8896-3b37571c4d93/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/8677a52d-2add-4550-9441-715d0693e4bb/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/f1765b2f-b1fd-4108-bcd4-99b5381d320a/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/ac3dba29-9574-492d-abb8-b8a88e555d3e/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/223ff8b7-8a18-4b1e-bea9-065cd4e5a4d6/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:33:42 PM [express] POST /api/posts/5cabbad9-3afe-4074-8896-3b37571c4d93/view 200 in 241ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/92b8399e-89dc-4a35-9107-3c18f7b3a669/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:33:42 PM [express] POST /api/posts/92b8399e-89dc-4a35-9107-3c18f7b3a669/view 200 in 242ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/0cec5ed2-e42a-4c6c-bc28-b008a5b2f660/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:33:42 PM [express] GET /api/posts/feed 200 in 1714ms :: {"posts":[{"id":"5cabbad9-3afe-4074-8896-3…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/d35e2229-10b4-4731-bd63-004128d70b2f/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:33:42 PM [express] POST /api/posts/ac3dba29-9574-492d-abb8-b8a88e555d3e/view 200 in 702ms :: {"suc…
5:33:42 PM [express] POST /api/posts/f1765b2f-b1fd-4108-bcd4-99b5381d320a/view 200 in 709ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/bde6e23c-82c7-439d-859d-86835d43ad62/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/17f54087-5238-4e20-9e7e-b2c8768449cb/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:33:42 PM [express] POST /api/posts/223ff8b7-8a18-4b1e-bea9-065cd4e5a4d6/view 200 in 709ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/79a6c465-70df-48f6-970d-72ea43da54f0/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:33:42 PM [express] POST /api/posts/0cec5ed2-e42a-4c6c-bc28-b008a5b2f660/view 200 in 237ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/648a3943-879e-4a8c-872d-5ed8884bc949/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:33:42 PM [express] POST /api/posts/8677a52d-2add-4550-9441-715d0693e4bb/view 200 in 729ms :: {"suc…
5:33:42 PM [express] POST /api/posts/d35e2229-10b4-4731-bd63-004128d70b2f/view 200 in 237ms :: {"suc…
5:33:42 PM [express] POST /api/posts/17f54087-5238-4e20-9e7e-b2c8768449cb/view 200 in 238ms :: {"suc…
5:33:42 PM [express] POST /api/posts/79a6c465-70df-48f6-970d-72ea43da54f0/view 200 in 236ms :: {"suc…
5:33:42 PM [express] POST /api/posts/bde6e23c-82c7-439d-859d-86835d43ad62/view 200 in 242ms :: {"suc…
5:33:42 PM [express] POST /api/posts/648a3943-879e-4a8c-872d-5ed8884bc949/view 200 in 238ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/5cabbad9-3afe-4074-8896-3b37571c4d93/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/8677a52d-2add-4550-9441-715d0693e4bb/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/f1765b2f-b1fd-4108-bcd4-99b5381d320a/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/ac3dba29-9574-492d-abb8-b8a88e555d3e/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/223ff8b7-8a18-4b1e-bea9-065cd4e5a4d6/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/92b8399e-89dc-4a35-9107-3c18f7b3a669/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:33:43 PM [express] POST /api/posts/8677a52d-2add-4550-9441-715d0693e4bb/view 200 in 271ms :: {"suc…
5:33:43 PM [express] POST /api/posts/5cabbad9-3afe-4074-8896-3b37571c4d93/view 200 in 282ms :: {"suc…
5:33:43 PM [express] POST /api/posts/223ff8b7-8a18-4b1e-bea9-065cd4e5a4d6/view 200 in 271ms :: {"suc…
5:33:43 PM [express] POST /api/posts/ac3dba29-9574-492d-abb8-b8a88e555d3e/view 200 in 276ms :: {"suc…
5:33:43 PM [express] POST /api/posts/f1765b2f-b1fd-4108-bcd4-99b5381d320a/view 200 in 281ms :: {"suc…
5:33:43 PM [express] POST /api/posts/92b8399e-89dc-4a35-9107-3c18f7b3a669/view 200 in 276ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/0cec5ed2-e42a-4c6c-bc28-b008a5b2f660/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/d35e2229-10b4-4731-bd63-004128d70b2f/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/bde6e23c-82c7-439d-859d-86835d43ad62/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/17f54087-5238-4e20-9e7e-b2c8768449cb/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/79a6c465-70df-48f6-970d-72ea43da54f0/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/648a3943-879e-4a8c-872d-5ed8884bc949/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:33:44 PM [express] POST /api/posts/d35e2229-10b4-4731-bd63-004128d70b2f/view 200 in 289ms :: {"suc…
5:33:44 PM [express] POST /api/posts/0cec5ed2-e42a-4c6c-bc28-b008a5b2f660/view 200 in 294ms :: {"suc…
5:33:44 PM [express] POST /api/posts/17f54087-5238-4e20-9e7e-b2c8768449cb/view 200 in 291ms :: {"suc…
5:33:44 PM [express] POST /api/posts/bde6e23c-82c7-439d-859d-86835d43ad62/view 200 in 295ms :: {"suc…
5:33:44 PM [express] POST /api/posts/79a6c465-70df-48f6-970d-72ea43da54f0/view 200 in 293ms :: {"suc…
5:33:44 PM [express] POST /api/posts/648a3943-879e-4a8c-872d-5ed8884bc949/view 200 in 295ms :: {"suc…
5:36:33 PM [vite] hmr update /src/components/navigation/mobile-nav.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/users/me',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔍 /api/users/me - Auth object: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  role: 'scout_admin',
  schoolId: null
}
🔍 /api/users/me - Database query result: { resultCount: 1, userId: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9' }
🔍 /api/users/me - Final schoolId: { dbSchoolId: null, jwtSchoolId: null, finalSchoolId: null }
🔍 Admin profile picture: {
  role: 'scout_admin',
  profilePicUrl: 'https://res.cloudinary.com/dh9cfkyhc/image/upload/v1758772148/lockerroom/profilePic/nfhezrnrpkk3lgslxtne.jpg'
}
✅ /api/users/me - Returning user data: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  role: 'scout_admin',
  schoolId: null,
  profilePicUrl: 'https://res.cloudinary.com/dh9cfkyhc/image/upload/v1758772148/lockerroom/profilePic/nfhezrnrpkk3lgslxtne.jpg'
}
5:36:35 PM [express] GET /api/users/me 304 in 1535ms :: {"id":"3781838b-f36c-42a6-ad8b-2cc4e892cbb9"…
5:36:38 PM [vite] hmr update /src/components/navigation/mobile-nav.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
5:36:41 PM [vite] hmr update /src/components/navigation/mobile-nav.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
5:36:49 PM [vite] hmr update /src/components/navigation/mobile-nav.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
5:36:54 PM [vite] hmr update /src/components/navigation/mobile-nav.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
5:36:57 PM [vite] hmr update /src/pages/feed.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/feed?limit=12&offset=0',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/5cabbad9-3afe-4074-8896-3b37571c4d93/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/8677a52d-2add-4550-9441-715d0693e4bb/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/f1765b2f-b1fd-4108-bcd4-99b5381d320a/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/ac3dba29-9574-492d-abb8-b8a88e555d3e/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/223ff8b7-8a18-4b1e-bea9-065cd4e5a4d6/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:36:59 PM [express] POST /api/posts/f1765b2f-b1fd-4108-bcd4-99b5381d320a/view 200 in 701ms :: {"suc…
5:36:59 PM [express] POST /api/posts/8677a52d-2add-4550-9441-715d0693e4bb/view 200 in 705ms :: {"suc…
5:36:59 PM [express] POST /api/posts/223ff8b7-8a18-4b1e-bea9-065cd4e5a4d6/view 200 in 701ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/92b8399e-89dc-4a35-9107-3c18f7b3a669/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/0cec5ed2-e42a-4c6c-bc28-b008a5b2f660/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:36:59 PM [express] POST /api/posts/5cabbad9-3afe-4074-8896-3b37571c4d93/view 200 in 719ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/d35e2229-10b4-4731-bd63-004128d70b2f/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/bde6e23c-82c7-439d-859d-86835d43ad62/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:36:59 PM [express] POST /api/posts/ac3dba29-9574-492d-abb8-b8a88e555d3e/view 200 in 713ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/17f54087-5238-4e20-9e7e-b2c8768449cb/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:36:59 PM [express] GET /api/posts/feed 200 in 1892ms :: {"posts":[{"id":"5cabbad9-3afe-4074-8896-3…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/79a6c465-70df-48f6-970d-72ea43da54f0/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:36:59 PM [express] POST /api/posts/92b8399e-89dc-4a35-9107-3c18f7b3a669/view 200 in 231ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/648a3943-879e-4a8c-872d-5ed8884bc949/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:36:59 PM [express] POST /api/posts/0cec5ed2-e42a-4c6c-bc28-b008a5b2f660/view 200 in 231ms :: {"suc…
5:36:59 PM [express] POST /api/posts/bde6e23c-82c7-439d-859d-86835d43ad62/view 200 in 229ms :: {"suc…
5:36:59 PM [express] POST /api/posts/d35e2229-10b4-4731-bd63-004128d70b2f/view 200 in 234ms :: {"suc…
5:36:59 PM [express] POST /api/posts/17f54087-5238-4e20-9e7e-b2c8768449cb/view 200 in 235ms :: {"suc…
5:37:00 PM [express] POST /api/posts/79a6c465-70df-48f6-970d-72ea43da54f0/view 200 in 236ms :: {"suc…
5:37:00 PM [express] POST /api/posts/648a3943-879e-4a8c-872d-5ed8884bc949/view 200 in 247ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/5cabbad9-3afe-4074-8896-3b37571c4d93/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/8677a52d-2add-4550-9441-715d0693e4bb/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/f1765b2f-b1fd-4108-bcd4-99b5381d320a/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/ac3dba29-9574-492d-abb8-b8a88e555d3e/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/223ff8b7-8a18-4b1e-bea9-065cd4e5a4d6/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/92b8399e-89dc-4a35-9107-3c18f7b3a669/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:37:01 PM [express] POST /api/posts/5cabbad9-3afe-4074-8896-3b37571c4d93/view 200 in 232ms :: {"suc…
5:37:01 PM [express] POST /api/posts/f1765b2f-b1fd-4108-bcd4-99b5381d320a/view 200 in 229ms :: {"suc…
5:37:01 PM [express] POST /api/posts/8677a52d-2add-4550-9441-715d0693e4bb/view 200 in 233ms :: {"suc…
5:37:01 PM [express] POST /api/posts/ac3dba29-9574-492d-abb8-b8a88e555d3e/view 200 in 232ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/0cec5ed2-e42a-4c6c-bc28-b008a5b2f660/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:37:01 PM [express] POST /api/posts/92b8399e-89dc-4a35-9107-3c18f7b3a669/view 200 in 231ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/d35e2229-10b4-4731-bd63-004128d70b2f/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:37:01 PM [express] POST /api/posts/223ff8b7-8a18-4b1e-bea9-065cd4e5a4d6/view 200 in 235ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/bde6e23c-82c7-439d-859d-86835d43ad62/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/17f54087-5238-4e20-9e7e-b2c8768449cb/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/79a6c465-70df-48f6-970d-72ea43da54f0/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/648a3943-879e-4a8c-872d-5ed8884bc949/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:37:01 PM [express] POST /api/posts/0cec5ed2-e42a-4c6c-bc28-b008a5b2f660/view 200 in 262ms :: {"suc…
5:37:01 PM [express] POST /api/posts/17f54087-5238-4e20-9e7e-b2c8768449cb/view 200 in 256ms :: {"suc…
5:37:01 PM [express] POST /api/posts/bde6e23c-82c7-439d-859d-86835d43ad62/view 200 in 258ms :: {"suc…
5:37:01 PM [express] POST /api/posts/d35e2229-10b4-4731-bd63-004128d70b2f/view 200 in 261ms :: {"suc…
5:37:01 PM [express] POST /api/posts/648a3943-879e-4a8c-872d-5ed8884bc949/view 200 in 262ms :: {"suc…
5:37:01 PM [express] POST /api/posts/79a6c465-70df-48f6-970d-72ea43da54f0/view 200 in 270ms :: {"suc…
5:37:04 PM [vite] hmr update /src/pages/feed.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/5cabbad9-3afe-4074-8896-3b37571c4d93/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/8677a52d-2add-4550-9441-715d0693e4bb/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/f1765b2f-b1fd-4108-bcd4-99b5381d320a/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/ac3dba29-9574-492d-abb8-b8a88e555d3e/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/223ff8b7-8a18-4b1e-bea9-065cd4e5a4d6/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/92b8399e-89dc-4a35-9107-3c18f7b3a669/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:37:05 PM [express] POST /api/posts/5cabbad9-3afe-4074-8896-3b37571c4d93/view 200 in 236ms :: {"suc…
5:37:05 PM [express] POST /api/posts/f1765b2f-b1fd-4108-bcd4-99b5381d320a/view 200 in 235ms :: {"suc…
5:37:05 PM [express] POST /api/posts/ac3dba29-9574-492d-abb8-b8a88e555d3e/view 200 in 235ms :: {"suc…
5:37:05 PM [express] POST /api/posts/8677a52d-2add-4550-9441-715d0693e4bb/view 200 in 238ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/0cec5ed2-e42a-4c6c-bc28-b008a5b2f660/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:37:05 PM [express] POST /api/posts/92b8399e-89dc-4a35-9107-3c18f7b3a669/view 200 in 237ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/d35e2229-10b4-4731-bd63-004128d70b2f/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/bde6e23c-82c7-439d-859d-86835d43ad62/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/17f54087-5238-4e20-9e7e-b2c8768449cb/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:37:05 PM [express] POST /api/posts/223ff8b7-8a18-4b1e-bea9-065cd4e5a4d6/view 200 in 243ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/79a6c465-70df-48f6-970d-72ea43da54f0/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/648a3943-879e-4a8c-872d-5ed8884bc949/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:37:05 PM [express] POST /api/posts/0cec5ed2-e42a-4c6c-bc28-b008a5b2f660/view 200 in 231ms :: {"suc…
5:37:05 PM [express] POST /api/posts/bde6e23c-82c7-439d-859d-86835d43ad62/view 200 in 231ms :: {"suc…
5:37:05 PM [express] POST /api/posts/17f54087-5238-4e20-9e7e-b2c8768449cb/view 200 in 230ms :: {"suc…
5:37:05 PM [express] POST /api/posts/d35e2229-10b4-4731-bd63-004128d70b2f/view 200 in 234ms :: {"suc…
5:37:05 PM [express] POST /api/posts/79a6c465-70df-48f6-970d-72ea43da54f0/view 200 in 231ms :: {"suc…
5:37:05 PM [express] POST /api/posts/648a3943-879e-4a8c-872d-5ed8884bc949/view 200 in 234ms :: {"suc…
5:37:07 PM [vite] hmr update /src/pages/scouts/admin/index.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
5:37:13 PM [vite] hmr update /src/pages/scouts/admin/index.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
5:37:16 PM [vite] hmr update /src/pages/scouts/admin/manage-scouts.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
5:37:33 PM [vite] hmr update /src/pages/scouts/admin/manage-scouts.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
5:37:37 PM [vite] hmr update /src/pages/scouts/admin/xen-watch-analytics.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
5:37:58 PM [vite] hmr update /src/pages/scouts/admin/xen-watch-analytics.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
5:38:11 PM [vite] hmr update /src/pages/scouts/admin/xen-watch-analytics.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
5:38:29 PM [vite] hmr update /src/components/navigation/mobile-nav.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
5:38:29 PM [vite] hmr update /src/pages/scouts/admin/index.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
5:38:29 PM [vite] hmr update /src/components/navigation/header.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
5:38:29 PM [vite] hmr update /src/pages/feed.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
5:38:29 PM [vite] hmr update /src/pages/scouts/admin/xen-watch-analytics.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
5:38:29 PM [vite] hmr update /src/pages/scouts/admin/manage-scouts.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/users/me',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔍 /api/users/me - Auth object: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  role: 'scout_admin',
  schoolId: null
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/feed?limit=12&offset=0',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔍 /api/users/me - Database query result: { resultCount: 1, userId: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9' }
🔍 /api/users/me - Final schoolId: { dbSchoolId: null, jwtSchoolId: null, finalSchoolId: null }
🔍 Admin profile picture: {
  role: 'scout_admin',
  profilePicUrl: 'https://res.cloudinary.com/dh9cfkyhc/image/upload/v1758772148/lockerroom/profilePic/nfhezrnrpkk3lgslxtne.jpg'
}
✅ /api/users/me - Returning user data: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  role: 'scout_admin',
  schoolId: null,
  profilePicUrl: 'https://res.cloudinary.com/dh9cfkyhc/image/upload/v1758772148/lockerroom/profilePic/nfhezrnrpkk3lgslxtne.jpg'
}
5:38:31 PM [express] GET /api/users/me 304 in 1540ms :: {"id":"3781838b-f36c-42a6-ad8b-2cc4e892cbb9"…
5:38:31 PM [express] GET /api/posts/feed 200 in 1722ms :: {"posts":[{"id":"5cabbad9-3afe-4074-8896-3…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/5cabbad9-3afe-4074-8896-3b37571c4d93/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/8677a52d-2add-4550-9441-715d0693e4bb/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/f1765b2f-b1fd-4108-bcd4-99b5381d320a/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/ac3dba29-9574-492d-abb8-b8a88e555d3e/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/223ff8b7-8a18-4b1e-bea9-065cd4e5a4d6/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/92b8399e-89dc-4a35-9107-3c18f7b3a669/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:38:32 PM [express] POST /api/posts/5cabbad9-3afe-4074-8896-3b37571c4d93/view 200 in 238ms :: {"suc…
5:38:32 PM [express] POST /api/posts/8677a52d-2add-4550-9441-715d0693e4bb/view 200 in 234ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/0cec5ed2-e42a-4c6c-bc28-b008a5b2f660/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/d35e2229-10b4-4731-bd63-004128d70b2f/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:38:32 PM [express] POST /api/posts/f1765b2f-b1fd-4108-bcd4-99b5381d320a/view 200 in 237ms :: {"suc…
5:38:32 PM [express] POST /api/posts/223ff8b7-8a18-4b1e-bea9-065cd4e5a4d6/view 200 in 231ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/bde6e23c-82c7-439d-859d-86835d43ad62/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:38:32 PM [express] POST /api/posts/ac3dba29-9574-492d-abb8-b8a88e555d3e/view 200 in 237ms :: {"suc…
5:38:32 PM [express] POST /api/posts/92b8399e-89dc-4a35-9107-3c18f7b3a669/view 200 in 231ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/17f54087-5238-4e20-9e7e-b2c8768449cb/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/79a6c465-70df-48f6-970d-72ea43da54f0/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/648a3943-879e-4a8c-872d-5ed8884bc949/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:38:32 PM [express] POST /api/posts/0cec5ed2-e42a-4c6c-bc28-b008a5b2f660/view 200 in 252ms :: {"suc…
5:38:32 PM [express] POST /api/posts/d35e2229-10b4-4731-bd63-004128d70b2f/view 200 in 254ms :: {"suc…
5:38:32 PM [express] POST /api/posts/79a6c465-70df-48f6-970d-72ea43da54f0/view 200 in 249ms :: {"suc…
5:38:32 PM [express] POST /api/posts/17f54087-5238-4e20-9e7e-b2c8768449cb/view 200 in 253ms :: {"suc…
5:38:32 PM [express] POST /api/posts/bde6e23c-82c7-439d-859d-86835d43ad62/view 200 in 257ms :: {"suc…
5:38:32 PM [express] POST /api/posts/648a3943-879e-4a8c-872d-5ed8884bc949/view 200 in 254ms :: {"suc…
5:38:55 PM [vite] hmr update /src/pages/scouts/admin/index.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
5:38:55 PM [vite] hmr update /src/pages/scouts/admin/xen-watch-analytics.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/xen-watch/analytics/overview',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔍 About to execute scout count query...
🔢 Scout count raw result: {
  fields: [
    {
      name: 'count',
      dataTypeID: 20,
      tableID: 0,
      columnID: 0,
      dataTypeSize: 8,
      dataTypeModifier: -1,
      format: 'text'
    }
  ],
  rows: [ { count: '14' } ],
  command: 'SELECT',
  rowCount: 1,
  rowAsArray: false,
  viaNeonFetch: true,
  _parsers: [ [Function: parseBigInteger] ],
  _types: TypeOverrides {
    _types: {
      getTypeParser: [Function: getTypeParser],
      setTypeParser: [Function: setTypeParser],
      arrayParser: [Object],
      builtins: [Object]
    },
    text: {},
    binary: {}
  }
}
🔢 Scout count rows: [ { count: '14' } ]
🔢 Scout count first row: { count: '14' }
🔢 Scout count from scout_profiles: 14
5:39:02 PM [express] GET /api/xen-watch/analytics/overview 304 in 2280ms :: {"totals":{"total_submis…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/scouts/detailed?page=1&limit=20',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/scouts/analytics?timeFilter=all',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔍 Getting scout analytics with time filter: all
🔍 Starting scout analytics function...
🔍 Time filter condition set to 1=1
🔍 About to execute scout stats query...
5:39:15 PM [express] GET /api/scouts/detailed 304 in 1129ms :: {"scouts":[{"id":"0eca580f-6faa-4756-…
5:39:16 PM [express] GET /api/scouts/analytics 304 in 2051ms :: {"scoutStats":[{"id":"dbc716f5-c5a1-…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/users/me',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔍 /api/users/me - Auth object: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  role: 'scout_admin',
  schoolId: null
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/xen-watch/analytics/overview?timeFilter=all',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔍 /api/users/me - Database query result: { resultCount: 1, userId: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9' }
🔍 /api/users/me - Final schoolId: { dbSchoolId: null, jwtSchoolId: null, finalSchoolId: null }
🔍 About to execute scout count query...
🔍 Admin profile picture: {
  role: 'scout_admin',
  profilePicUrl: 'https://res.cloudinary.com/dh9cfkyhc/image/upload/v1758772148/lockerroom/profilePic/nfhezrnrpkk3lgslxtne.jpg'
}
✅ /api/users/me - Returning user data: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  role: 'scout_admin',
  schoolId: null,
  profilePicUrl: 'https://res.cloudinary.com/dh9cfkyhc/image/upload/v1758772148/lockerroom/profilePic/nfhezrnrpkk3lgslxtne.jpg'
}
5:39:54 PM [express] GET /api/users/me 304 in 1819ms :: {"id":"3781838b-f36c-42a6-ad8b-2cc4e892cbb9"…
🔢 Scout count raw result: {
  fields: [
    {
      name: 'count',
      dataTypeID: 20,
      tableID: 0,
      columnID: 0,
      dataTypeSize: 8,
      dataTypeModifier: -1,
      format: 'text'
    }
  ],
  rows: [ { count: '14' } ],
  command: 'SELECT',
  rowCount: 1,
  rowAsArray: false,
  viaNeonFetch: true,
  _parsers: [ [Function: parseBigInteger] ],
  _types: TypeOverrides {
    _types: {
      getTypeParser: [Function: getTypeParser],
      setTypeParser: [Function: setTypeParser],
      arrayParser: [Object],
      builtins: [Object]
    },
    text: {},
    binary: {}
  }
}
🔢 Scout count rows: [ { count: '14' } ]
🔢 Scout count first row: { count: '14' }
🔢 Scout count from scout_profiles: 14
5:39:55 PM [express] GET /api/xen-watch/analytics/overview 304 in 2314ms :: {"totals":{"total_submis…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/feed?limit=12&offset=0',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/5cabbad9-3afe-4074-8896-3b37571c4d93/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/8677a52d-2add-4550-9441-715d0693e4bb/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/f1765b2f-b1fd-4108-bcd4-99b5381d320a/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/ac3dba29-9574-492d-abb8-b8a88e555d3e/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/223ff8b7-8a18-4b1e-bea9-065cd4e5a4d6/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:40:22 PM [express] POST /api/posts/5cabbad9-3afe-4074-8896-3b37571c4d93/view 200 in 235ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/92b8399e-89dc-4a35-9107-3c18f7b3a669/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:40:22 PM [express] POST /api/posts/92b8399e-89dc-4a35-9107-3c18f7b3a669/view 200 in 234ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/0cec5ed2-e42a-4c6c-bc28-b008a5b2f660/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:40:22 PM [express] GET /api/posts/feed 200 in 1726ms :: {"posts":[{"id":"5cabbad9-3afe-4074-8896-3…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/d35e2229-10b4-4731-bd63-004128d70b2f/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:40:22 PM [express] POST /api/posts/0cec5ed2-e42a-4c6c-bc28-b008a5b2f660/view 200 in 243ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/bde6e23c-82c7-439d-859d-86835d43ad62/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:40:22 PM [express] POST /api/posts/ac3dba29-9574-492d-abb8-b8a88e555d3e/view 200 in 715ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/17f54087-5238-4e20-9e7e-b2c8768449cb/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:40:22 PM [express] POST /api/posts/223ff8b7-8a18-4b1e-bea9-065cd4e5a4d6/view 200 in 734ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/79a6c465-70df-48f6-970d-72ea43da54f0/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:40:22 PM [express] POST /api/posts/f1765b2f-b1fd-4108-bcd4-99b5381d320a/view 200 in 748ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/648a3943-879e-4a8c-872d-5ed8884bc949/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:40:22 PM [express] POST /api/posts/8677a52d-2add-4550-9441-715d0693e4bb/view 200 in 755ms :: {"suc…
5:40:22 PM [express] POST /api/posts/d35e2229-10b4-4731-bd63-004128d70b2f/view 200 in 233ms :: {"suc…
5:40:22 PM [express] POST /api/posts/bde6e23c-82c7-439d-859d-86835d43ad62/view 200 in 237ms :: {"suc…
5:40:22 PM [express] POST /api/posts/17f54087-5238-4e20-9e7e-b2c8768449cb/view 200 in 241ms :: {"suc…
5:40:22 PM [express] POST /api/posts/79a6c465-70df-48f6-970d-72ea43da54f0/view 200 in 238ms :: {"suc…
5:40:22 PM [express] POST /api/posts/648a3943-879e-4a8c-872d-5ed8884bc949/view 200 in 238ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/5cabbad9-3afe-4074-8896-3b37571c4d93/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/8677a52d-2add-4550-9441-715d0693e4bb/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/f1765b2f-b1fd-4108-bcd4-99b5381d320a/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/ac3dba29-9574-492d-abb8-b8a88e555d3e/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/223ff8b7-8a18-4b1e-bea9-065cd4e5a4d6/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/92b8399e-89dc-4a35-9107-3c18f7b3a669/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:40:23 PM [express] POST /api/posts/8677a52d-2add-4550-9441-715d0693e4bb/view 200 in 233ms :: {"suc…
5:40:23 PM [express] POST /api/posts/5cabbad9-3afe-4074-8896-3b37571c4d93/view 200 in 235ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/0cec5ed2-e42a-4c6c-bc28-b008a5b2f660/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/d35e2229-10b4-4731-bd63-004128d70b2f/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:40:23 PM [express] POST /api/posts/ac3dba29-9574-492d-abb8-b8a88e555d3e/view 200 in 240ms :: {"suc…
5:40:23 PM [express] POST /api/posts/f1765b2f-b1fd-4108-bcd4-99b5381d320a/view 200 in 241ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/bde6e23c-82c7-439d-859d-86835d43ad62/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/17f54087-5238-4e20-9e7e-b2c8768449cb/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:40:23 PM [express] POST /api/posts/223ff8b7-8a18-4b1e-bea9-065cd4e5a4d6/view 200 in 265ms :: {"suc…
5:40:23 PM [express] POST /api/posts/92b8399e-89dc-4a35-9107-3c18f7b3a669/view 200 in 241ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/79a6c465-70df-48f6-970d-72ea43da54f0/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/648a3943-879e-4a8c-872d-5ed8884bc949/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:40:24 PM [express] POST /api/posts/0cec5ed2-e42a-4c6c-bc28-b008a5b2f660/view 200 in 233ms :: {"suc…
5:40:24 PM [express] POST /api/posts/d35e2229-10b4-4731-bd63-004128d70b2f/view 200 in 232ms :: {"suc…
5:40:24 PM [express] POST /api/posts/bde6e23c-82c7-439d-859d-86835d43ad62/view 200 in 238ms :: {"suc…
5:40:24 PM [express] POST /api/posts/17f54087-5238-4e20-9e7e-b2c8768449cb/view 200 in 235ms :: {"suc…
5:40:24 PM [express] POST /api/posts/79a6c465-70df-48f6-970d-72ea43da54f0/view 200 in 232ms :: {"suc…
5:40:24 PM [express] POST /api/posts/648a3943-879e-4a8c-872d-5ed8884bc949/view 200 in 238ms :: {"suc…
5:42:17 PM [vite] hmr update /src/components/navigation/header.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
5:42:23 PM [vite] hmr update /src/components/navigation/header.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/users/me',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔍 /api/users/me - Auth object: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  role: 'scout_admin',
  schoolId: null
}
🔍 /api/users/me - Database query result: { resultCount: 1, userId: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9' }
🔍 /api/users/me - Final schoolId: { dbSchoolId: null, jwtSchoolId: null, finalSchoolId: null }
🔍 Admin profile picture: {
  role: 'scout_admin',
  profilePicUrl: 'https://res.cloudinary.com/dh9cfkyhc/image/upload/v1758772148/lockerroom/profilePic/nfhezrnrpkk3lgslxtne.jpg'
}
✅ /api/users/me - Returning user data: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  role: 'scout_admin',
  schoolId: null,
  profilePicUrl: 'https://res.cloudinary.com/dh9cfkyhc/image/upload/v1758772148/lockerroom/profilePic/nfhezrnrpkk3lgslxtne.jpg'
}
5:42:25 PM [express] GET /api/users/me 304 in 1528ms :: {"id":"3781838b-f36c-42a6-ad8b-2cc4e892cbb9"…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/feed?limit=12&offset=0',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/5cabbad9-3afe-4074-8896-3b37571c4d93/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/8677a52d-2add-4550-9441-715d0693e4bb/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/f1765b2f-b1fd-4108-bcd4-99b5381d320a/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/ac3dba29-9574-492d-abb8-b8a88e555d3e/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/223ff8b7-8a18-4b1e-bea9-065cd4e5a4d6/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:42:26 PM [express] GET /api/posts/feed 200 in 1234ms :: {"posts":[{"id":"5cabbad9-3afe-4074-8896-3…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/92b8399e-89dc-4a35-9107-3c18f7b3a669/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:42:26 PM [express] POST /api/posts/5cabbad9-3afe-4074-8896-3b37571c4d93/view 200 in 238ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/0cec5ed2-e42a-4c6c-bc28-b008a5b2f660/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:42:26 PM [express] POST /api/posts/8677a52d-2add-4550-9441-715d0693e4bb/view 200 in 238ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/d35e2229-10b4-4731-bd63-004128d70b2f/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:42:26 PM [express] POST /api/posts/92b8399e-89dc-4a35-9107-3c18f7b3a669/view 200 in 256ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/bde6e23c-82c7-439d-859d-86835d43ad62/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:42:26 PM [express] POST /api/posts/0cec5ed2-e42a-4c6c-bc28-b008a5b2f660/view 200 in 236ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/17f54087-5238-4e20-9e7e-b2c8768449cb/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:42:26 PM [express] POST /api/posts/d35e2229-10b4-4731-bd63-004128d70b2f/view 200 in 237ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/79a6c465-70df-48f6-970d-72ea43da54f0/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:42:27 PM [express] POST /api/posts/bde6e23c-82c7-439d-859d-86835d43ad62/view 200 in 235ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/648a3943-879e-4a8c-872d-5ed8884bc949/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:42:27 PM [express] POST /api/posts/17f54087-5238-4e20-9e7e-b2c8768449cb/view 200 in 234ms :: {"suc…
5:42:27 PM [express] POST /api/posts/223ff8b7-8a18-4b1e-bea9-065cd4e5a4d6/view 200 in 728ms :: {"suc…
5:42:27 PM [express] POST /api/posts/79a6c465-70df-48f6-970d-72ea43da54f0/view 200 in 260ms :: {"suc…
5:42:27 PM [express] POST /api/posts/ac3dba29-9574-492d-abb8-b8a88e555d3e/view 200 in 733ms :: {"suc…
5:42:27 PM [express] POST /api/posts/f1765b2f-b1fd-4108-bcd4-99b5381d320a/view 200 in 737ms :: {"suc…
5:42:27 PM [express] POST /api/posts/648a3943-879e-4a8c-872d-5ed8884bc949/view 200 in 237ms :: {"suc…
5:42:27 PM [vite] hmr update /src/pages/feed.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/5cabbad9-3afe-4074-8896-3b37571c4d93/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/8677a52d-2add-4550-9441-715d0693e4bb/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/f1765b2f-b1fd-4108-bcd4-99b5381d320a/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/ac3dba29-9574-492d-abb8-b8a88e555d3e/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/223ff8b7-8a18-4b1e-bea9-065cd4e5a4d6/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/92b8399e-89dc-4a35-9107-3c18f7b3a669/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:42:28 PM [express] POST /api/posts/5cabbad9-3afe-4074-8896-3b37571c4d93/view 200 in 236ms :: {"suc…
5:42:28 PM [express] POST /api/posts/8677a52d-2add-4550-9441-715d0693e4bb/view 200 in 234ms :: {"suc…
5:42:28 PM [express] POST /api/posts/ac3dba29-9574-492d-abb8-b8a88e555d3e/view 200 in 230ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/0cec5ed2-e42a-4c6c-bc28-b008a5b2f660/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/d35e2229-10b4-4731-bd63-004128d70b2f/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/bde6e23c-82c7-439d-859d-86835d43ad62/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:42:28 PM [express] POST /api/posts/f1765b2f-b1fd-4108-bcd4-99b5381d320a/view 200 in 238ms :: {"suc…
5:42:28 PM [express] POST /api/posts/223ff8b7-8a18-4b1e-bea9-065cd4e5a4d6/view 200 in 236ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/17f54087-5238-4e20-9e7e-b2c8768449cb/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:42:28 PM [express] POST /api/posts/92b8399e-89dc-4a35-9107-3c18f7b3a669/view 200 in 236ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/79a6c465-70df-48f6-970d-72ea43da54f0/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/648a3943-879e-4a8c-872d-5ed8884bc949/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:42:29 PM [express] POST /api/posts/0cec5ed2-e42a-4c6c-bc28-b008a5b2f660/view 200 in 233ms :: {"suc…
5:42:29 PM [express] POST /api/posts/bde6e23c-82c7-439d-859d-86835d43ad62/view 200 in 232ms :: {"suc…
5:42:29 PM [express] POST /api/posts/d35e2229-10b4-4731-bd63-004128d70b2f/view 200 in 233ms :: {"suc…
5:42:29 PM [express] POST /api/posts/79a6c465-70df-48f6-970d-72ea43da54f0/view 200 in 264ms :: {"suc…
5:42:29 PM [express] POST /api/posts/17f54087-5238-4e20-9e7e-b2c8768449cb/view 200 in 267ms :: {"suc…
5:42:29 PM [express] POST /api/posts/648a3943-879e-4a8c-872d-5ed8884bc949/view 200 in 267ms :: {"suc…
5:42:33 PM [vite] hmr update /src/pages/scouts/admin/index.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
5:42:54 PM [vite] hmr update /src/pages/scouts/admin/manage-scouts.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
5:43:17 PM [vite] hmr update /src/pages/scouts/admin/xen-watch-analytics.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
5:43:28 PM [vite] hmr update /src/pages/scouts/admin/xen-watch-analytics.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
5:43:46 PM [vite] hmr update /src/components/navigation/header.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
5:43:46 PM [vite] hmr update /src/pages/scouts/admin/index.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
5:43:46 PM [vite] hmr update /src/pages/feed.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
5:43:46 PM [vite] hmr update /src/pages/scouts/admin/manage-scouts.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
5:43:46 PM [vite] hmr update /src/pages/scouts/admin/xen-watch-analytics.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/users/me',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔍 /api/users/me - Auth object: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  role: 'scout_admin',
  schoolId: null
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/feed?limit=12&offset=0',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔍 /api/users/me - Database query result: { resultCount: 1, userId: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9' }
🔍 /api/users/me - Final schoolId: { dbSchoolId: null, jwtSchoolId: null, finalSchoolId: null }
🔍 Admin profile picture: {
  role: 'scout_admin',
  profilePicUrl: 'https://res.cloudinary.com/dh9cfkyhc/image/upload/v1758772148/lockerroom/profilePic/nfhezrnrpkk3lgslxtne.jpg'
}
✅ /api/users/me - Returning user data: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  role: 'scout_admin',
  schoolId: null,
  profilePicUrl: 'https://res.cloudinary.com/dh9cfkyhc/image/upload/v1758772148/lockerroom/profilePic/nfhezrnrpkk3lgslxtne.jpg'
}
5:43:48 PM [express] GET /api/users/me 304 in 1613ms :: {"id":"3781838b-f36c-42a6-ad8b-2cc4e892cbb9"…
5:43:48 PM [express] GET /api/posts/feed 200 in 1857ms :: {"posts":[{"id":"5cabbad9-3afe-4074-8896-3…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/5cabbad9-3afe-4074-8896-3b37571c4d93/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/8677a52d-2add-4550-9441-715d0693e4bb/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/f1765b2f-b1fd-4108-bcd4-99b5381d320a/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/ac3dba29-9574-492d-abb8-b8a88e555d3e/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/223ff8b7-8a18-4b1e-bea9-065cd4e5a4d6/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/92b8399e-89dc-4a35-9107-3c18f7b3a669/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:43:49 PM [express] POST /api/posts/8677a52d-2add-4550-9441-715d0693e4bb/view 200 in 229ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/0cec5ed2-e42a-4c6c-bc28-b008a5b2f660/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:43:49 PM [express] POST /api/posts/5cabbad9-3afe-4074-8896-3b37571c4d93/view 200 in 236ms :: {"suc…
5:43:49 PM [express] POST /api/posts/f1765b2f-b1fd-4108-bcd4-99b5381d320a/view 200 in 233ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/d35e2229-10b4-4731-bd63-004128d70b2f/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/bde6e23c-82c7-439d-859d-86835d43ad62/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:43:49 PM [express] POST /api/posts/223ff8b7-8a18-4b1e-bea9-065cd4e5a4d6/view 200 in 237ms :: {"suc…
5:43:49 PM [express] POST /api/posts/ac3dba29-9574-492d-abb8-b8a88e555d3e/view 200 in 239ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/17f54087-5238-4e20-9e7e-b2c8768449cb/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/79a6c465-70df-48f6-970d-72ea43da54f0/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:43:49 PM [express] POST /api/posts/92b8399e-89dc-4a35-9107-3c18f7b3a669/view 200 in 239ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/posts/648a3943-879e-4a8c-872d-5ed8884bc949/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:43:50 PM [express] POST /api/posts/0cec5ed2-e42a-4c6c-bc28-b008a5b2f660/view 200 in 233ms :: {"suc…
5:43:50 PM [express] POST /api/posts/d35e2229-10b4-4731-bd63-004128d70b2f/view 200 in 235ms :: {"suc…
5:43:50 PM [express] POST /api/posts/bde6e23c-82c7-439d-859d-86835d43ad62/view 200 in 235ms :: {"suc…
5:43:50 PM [express] POST /api/posts/79a6c465-70df-48f6-970d-72ea43da54f0/view 200 in 234ms :: {"suc…
5:43:50 PM [express] POST /api/posts/17f54087-5238-4e20-9e7e-b2c8768449cb/view 200 in 238ms :: {"suc…
5:43:50 PM [express] POST /api/posts/648a3943-879e-4a8c-872d-5ed8884bc949/view 200 in 238ms :: {"suc…
5:44:19 PM [vite] hmr update /src/pages/scouts/admin/index.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
5:44:19 PM [vite] hmr update /src/pages/scouts/admin/xen-watch-analytics.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/xen-watch/analytics/overview',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔍 About to execute scout count query...
🔢 Scout count raw result: {
  fields: [
    {
      name: 'count',
      dataTypeID: 20,
      tableID: 0,
      columnID: 0,
      dataTypeSize: 8,
      dataTypeModifier: -1,
      format: 'text'
    }
  ],
  rows: [ { count: '14' } ],
  command: 'SELECT',
  rowCount: 1,
  rowAsArray: false,
  viaNeonFetch: true,
  _parsers: [ [Function: parseBigInteger] ],
  _types: TypeOverrides {
    _types: {
      getTypeParser: [Function: getTypeParser],
      setTypeParser: [Function: setTypeParser],
      arrayParser: [Object],
      builtins: [Object]
    },
    text: {},
    binary: {}
  }
}
🔢 Scout count rows: [ { count: '14' } ]
🔢 Scout count first row: { count: '14' }
🔢 Scout count from scout_profiles: 14
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/users/me',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔍 /api/users/me - Auth object: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  role: 'scout_admin',
  schoolId: null
}
🔍 /api/users/me - Database query result: { resultCount: 1, userId: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9' }
🔍 /api/users/me - Final schoolId: { dbSchoolId: null, jwtSchoolId: null, finalSchoolId: null }
🔍 Admin profile picture: {
  role: 'scout_admin',
  profilePicUrl: 'https://res.cloudinary.com/dh9cfkyhc/image/upload/v1758772148/lockerroom/profilePic/nfhezrnrpkk3lgslxtne.jpg'
}
✅ /api/users/me - Returning user data: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  role: 'scout_admin',
  schoolId: null,
  profilePicUrl: 'https://res.cloudinary.com/dh9cfkyhc/image/upload/v1758772148/lockerroom/profilePic/nfhezrnrpkk3lgslxtne.jpg'
}
5:44:47 PM [express] GET /api/users/me 304 in 478ms :: {"id":"3781838b-f36c-42a6-ad8b-2cc4e892cbb9",…
5:44:48 PM [express] GET /api/xen-watch/analytics/overview 304 in 2549ms :: {"totals":{"total_submis…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/xen-watch/analytics/overview?timeFilter=all',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/scouts/analytics?timeFilter=all',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔍 Getting scout analytics with time filter: all
🔍 Starting scout analytics function...
🔍 Time filter condition set to 1=1
🔍 About to execute scout stats query...
🔍 About to execute scout count query...
🔢 Scout count raw result: {
  fields: [
    {
      name: 'count',
      dataTypeID: 20,
      tableID: 0,
      columnID: 0,
      dataTypeSize: 8,
      dataTypeModifier: -1,
      format: 'text'
    }
  ],
  rows: [ { count: '14' } ],
  command: 'SELECT',
  rowCount: 1,
  rowAsArray: false,
  viaNeonFetch: true,
  _parsers: [ [Function: parseBigInteger] ],
  _types: TypeOverrides {
    _types: {
      getTypeParser: [Function: getTypeParser],
      setTypeParser: [Function: setTypeParser],
      arrayParser: [Object],
      builtins: [Object]
    },
    text: {},
    binary: {}
  }
}
🔢 Scout count rows: [ { count: '14' } ]
🔢 Scout count first row: { count: '14' }
🔢 Scout count from scout_profiles: 14
5:45:19 PM [express] GET /api/xen-watch/analytics/overview 304 in 1622ms :: {"totals":{"total_submis…
5:45:19 PM [express] GET /api/scouts/analytics 304 in 2097ms :: {"scoutStats":[{"id":"dbc716f5-c5a1-…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/scouts/detailed?page=1&limit=20',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
5:45:47 PM [express] GET /api/scouts/detailed 304 in 1696ms :: {"scouts":[{"id":"0eca580f-6faa-4756-…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/users/me',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔍 /api/users/me - Auth object: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  role: 'scout_admin',
  schoolId: null
}
🔍 /api/users/me - Database query result: { resultCount: 1, userId: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9' }
🔍 /api/users/me - Final schoolId: { dbSchoolId: null, jwtSchoolId: null, finalSchoolId: null }
🔍 Admin profile picture: {
  role: 'scout_admin',
  profilePicUrl: 'https://res.cloudinary.com/dh9cfkyhc/image/upload/v1758772148/lockerroom/profilePic/nfhezrnrpkk3lgslxtne.jpg'
}
✅ /api/users/me - Returning user data: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  role: 'scout_admin',
  schoolId: null,
  profilePicUrl: 'https://res.cloudinary.com/dh9cfkyhc/image/upload/v1758772148/lockerroom/profilePic/nfhezrnrpkk3lgslxtne.jpg'
}
5:45:48 PM [express] GET /api/users/me 304 in 574ms :: {"id":"3781838b-f36c-42a6-ad8b-2cc4e892cbb9",…
🔐 Rate limiting skipped in development for: /login
🔐 Login attempt: {
  email: 'student@lockerroom.com',
  hasPassword: true,
  passwordLength: 11,
  timestamp: '2025-09-28T14:47:07.156Z'
}
🔐 Attempting admin authentication for: student@lockerroom.com
🔐 Admin OTP verification failed: Admin not found for email: student@lockerroom.com
🔐 Admin password verification failed: Admin not found for email: student@lockerroom.com
🔐 Attempting regular user authentication for: student@lockerroom.com
🔐 Attempting OTP verification for: student@lockerroom.com
🔐 OTP verification successful for user: 77554460-06da-48d3-9447-5ce416ff66c8 OTP flag: false schoolId: 7de86fac-48d3-4acb-b636-021ca8d07d59
🔐 OTP Login successful: {
  userId: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  requiresPasswordReset: false,
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59'
}
5:47:10 PM [express] POST /api/auth/login 200 in 2926ms :: {"token":"eyJhbGciOiJIUzI1NiIsInR5cCI6Ikp…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/users/me',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔍 /api/users/me - Auth object: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59'
}
🔍 /api/users/me - Database query result: { resultCount: 1, userId: '77554460-06da-48d3-9447-5ce416ff66c8' }
🔍 /api/users/me - Final schoolId: {
  dbSchoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  jwtSchoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  finalSchoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59'
}
✅ /api/users/me - Returning user data: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  profilePicUrl: 'https://images.unsplash.com/photo-1594736797933-d0281ba35a95?auto=format&fit=crop&w=400&h=400'
}
5:47:10 PM [express] GET /api/users/me 200 in 491ms :: {"id":"77554460-06da-48d3-9447-5ce416ff66c8",…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/students/me',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔍 /api/students/me - User ID: 77554460-06da-48d3-9447-5ce416ff66c8
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/feed?limit=12&offset=0',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
📸 Returning profile URLs: {
  profilePic: 'https://images.unsplash.com/photo-1594736797933-d0281ba35a95?auto=format&fit=crop&w=400&h=400',
  coverPhoto: 'https://images.unsplash.com/photo-1574629810360-7efbbe195018?auto=format&fit=crop&w=1920&h=400'
}
5:47:12 PM [express] GET /api/students/me 200 in 1510ms :: {"id":"5c2d8e33-a6de-4235-b052-cabedf0585…
5:47:12 PM [express] GET /api/posts/feed 200 in 1744ms :: {"posts":[{"id":"5cabbad9-3afe-4074-8896-3…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/5cabbad9-3afe-4074-8896-3b37571c4d93/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/8677a52d-2add-4550-9441-715d0693e4bb/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/f1765b2f-b1fd-4108-bcd4-99b5381d320a/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/ac3dba29-9574-492d-abb8-b8a88e555d3e/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/223ff8b7-8a18-4b1e-bea9-065cd4e5a4d6/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/92b8399e-89dc-4a35-9107-3c18f7b3a669/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
5:47:13 PM [express] POST /api/posts/5cabbad9-3afe-4074-8896-3b37571c4d93/view 200 in 247ms :: {"suc…
5:47:13 PM [express] POST /api/posts/8677a52d-2add-4550-9441-715d0693e4bb/view 200 in 242ms :: {"suc…
5:47:13 PM [express] POST /api/posts/ac3dba29-9574-492d-abb8-b8a88e555d3e/view 200 in 245ms :: {"suc…
5:47:13 PM [express] POST /api/posts/f1765b2f-b1fd-4108-bcd4-99b5381d320a/view 200 in 249ms :: {"suc…
5:47:13 PM [express] POST /api/posts/223ff8b7-8a18-4b1e-bea9-065cd4e5a4d6/view 200 in 253ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/0cec5ed2-e42a-4c6c-bc28-b008a5b2f660/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/d35e2229-10b4-4731-bd63-004128d70b2f/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
5:47:13 PM [express] POST /api/posts/92b8399e-89dc-4a35-9107-3c18f7b3a669/view 200 in 256ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/bde6e23c-82c7-439d-859d-86835d43ad62/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/17f54087-5238-4e20-9e7e-b2c8768449cb/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/79a6c465-70df-48f6-970d-72ea43da54f0/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/648a3943-879e-4a8c-872d-5ed8884bc949/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
5:47:13 PM [express] POST /api/posts/0cec5ed2-e42a-4c6c-bc28-b008a5b2f660/view 200 in 235ms :: {"suc…
5:47:13 PM [express] POST /api/posts/d35e2229-10b4-4731-bd63-004128d70b2f/view 200 in 241ms :: {"suc…
5:47:13 PM [express] POST /api/posts/bde6e23c-82c7-439d-859d-86835d43ad62/view 200 in 243ms :: {"suc…
5:47:13 PM [express] POST /api/posts/17f54087-5238-4e20-9e7e-b2c8768449cb/view 200 in 245ms :: {"suc…
5:47:13 PM [express] POST /api/posts/79a6c465-70df-48f6-970d-72ea43da54f0/view 200 in 247ms :: {"suc…
5:47:13 PM [express] POST /api/posts/648a3943-879e-4a8c-872d-5ed8884bc949/view 200 in 248ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/5cabbad9-3afe-4074-8896-3b37571c4d93/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/8677a52d-2add-4550-9441-715d0693e4bb/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/f1765b2f-b1fd-4108-bcd4-99b5381d320a/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/ac3dba29-9574-492d-abb8-b8a88e555d3e/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/223ff8b7-8a18-4b1e-bea9-065cd4e5a4d6/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/92b8399e-89dc-4a35-9107-3c18f7b3a669/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
5:47:18 PM [express] POST /api/posts/5cabbad9-3afe-4074-8896-3b37571c4d93/view 200 in 238ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/0cec5ed2-e42a-4c6c-bc28-b008a5b2f660/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
5:47:18 PM [express] POST /api/posts/ac3dba29-9574-492d-abb8-b8a88e555d3e/view 200 in 244ms :: {"suc…
5:47:18 PM [express] POST /api/posts/f1765b2f-b1fd-4108-bcd4-99b5381d320a/view 200 in 247ms :: {"suc…
5:47:18 PM [express] POST /api/posts/8677a52d-2add-4550-9441-715d0693e4bb/view 200 in 251ms :: {"suc…
5:47:18 PM [express] POST /api/posts/223ff8b7-8a18-4b1e-bea9-065cd4e5a4d6/view 200 in 248ms :: {"suc…
5:47:18 PM [express] POST /api/posts/92b8399e-89dc-4a35-9107-3c18f7b3a669/view 200 in 247ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/d35e2229-10b4-4731-bd63-004128d70b2f/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/bde6e23c-82c7-439d-859d-86835d43ad62/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/17f54087-5238-4e20-9e7e-b2c8768449cb/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/79a6c465-70df-48f6-970d-72ea43da54f0/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/648a3943-879e-4a8c-872d-5ed8884bc949/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
5:47:18 PM [express] POST /api/posts/0cec5ed2-e42a-4c6c-bc28-b008a5b2f660/view 200 in 245ms :: {"suc…
5:47:18 PM [express] POST /api/posts/d35e2229-10b4-4731-bd63-004128d70b2f/view 200 in 238ms :: {"suc…
5:47:18 PM [express] POST /api/posts/bde6e23c-82c7-439d-859d-86835d43ad62/view 200 in 241ms :: {"suc…
5:47:18 PM [express] POST /api/posts/79a6c465-70df-48f6-970d-72ea43da54f0/view 200 in 242ms :: {"suc…
5:47:18 PM [express] POST /api/posts/17f54087-5238-4e20-9e7e-b2c8768449cb/view 200 in 245ms :: {"suc…
5:47:18 PM [express] POST /api/posts/648a3943-879e-4a8c-872d-5ed8884bc949/view 200 in 243ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/5cabbad9-3afe-4074-8896-3b37571c4d93/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/8677a52d-2add-4550-9441-715d0693e4bb/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/f1765b2f-b1fd-4108-bcd4-99b5381d320a/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/ac3dba29-9574-492d-abb8-b8a88e555d3e/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/223ff8b7-8a18-4b1e-bea9-065cd4e5a4d6/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/92b8399e-89dc-4a35-9107-3c18f7b3a669/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
5:47:20 PM [express] POST /api/posts/5cabbad9-3afe-4074-8896-3b37571c4d93/view 200 in 239ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/0cec5ed2-e42a-4c6c-bc28-b008a5b2f660/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
5:47:20 PM [express] POST /api/posts/f1765b2f-b1fd-4108-bcd4-99b5381d320a/view 200 in 239ms :: {"suc…
5:47:20 PM [express] POST /api/posts/8677a52d-2add-4550-9441-715d0693e4bb/view 200 in 245ms :: {"suc…
5:47:20 PM [express] POST /api/posts/ac3dba29-9574-492d-abb8-b8a88e555d3e/view 200 in 243ms :: {"suc…
5:47:20 PM [express] POST /api/posts/223ff8b7-8a18-4b1e-bea9-065cd4e5a4d6/view 200 in 240ms :: {"suc…
5:47:20 PM [express] POST /api/posts/92b8399e-89dc-4a35-9107-3c18f7b3a669/view 200 in 240ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/d35e2229-10b4-4731-bd63-004128d70b2f/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/bde6e23c-82c7-439d-859d-86835d43ad62/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/17f54087-5238-4e20-9e7e-b2c8768449cb/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/79a6c465-70df-48f6-970d-72ea43da54f0/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/648a3943-879e-4a8c-872d-5ed8884bc949/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
5:47:20 PM [express] POST /api/posts/0cec5ed2-e42a-4c6c-bc28-b008a5b2f660/view 200 in 238ms :: {"suc…
5:47:20 PM [express] POST /api/posts/17f54087-5238-4e20-9e7e-b2c8768449cb/view 200 in 229ms :: {"suc…
5:47:20 PM [express] POST /api/posts/d35e2229-10b4-4731-bd63-004128d70b2f/view 200 in 234ms :: {"suc…
5:47:20 PM [express] POST /api/posts/bde6e23c-82c7-439d-859d-86835d43ad62/view 200 in 233ms :: {"suc…
5:47:20 PM [express] POST /api/posts/79a6c465-70df-48f6-970d-72ea43da54f0/view 200 in 231ms :: {"suc…
5:47:20 PM [express] POST /api/posts/648a3943-879e-4a8c-872d-5ed8884bc949/view 200 in 233ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/student/5c2d8e33-a6de-4235-b052-cabedf0585a9?limit=12&offset=0',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
5:47:36 PM [express] GET /api/posts/student/5c2d8e33-a6de-4235-b052-cabedf0585a9 200 in 5820ms :: [{…
5:48:30 PM [vite] hmr update /src/pages/profile.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/users/me',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔍 /api/users/me - Auth object: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59'
}
🔍 /api/users/me - Database query result: { resultCount: 1, userId: '77554460-06da-48d3-9447-5ce416ff66c8' }
🔍 /api/users/me - Final schoolId: {
  dbSchoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  jwtSchoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  finalSchoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59'
}
✅ /api/users/me - Returning user data: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  profilePicUrl: 'https://images.unsplash.com/photo-1594736797933-d0281ba35a95?auto=format&fit=crop&w=400&h=400'
}
5:48:32 PM [express] GET /api/users/me 304 in 1584ms :: {"id":"77554460-06da-48d3-9447-5ce416ff66c8"…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/students/me',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔍 /api/students/me - User ID: 77554460-06da-48d3-9447-5ce416ff66c8
📸 Returning profile URLs: {
  profilePic: 'https://images.unsplash.com/photo-1594736797933-d0281ba35a95?auto=format&fit=crop&w=400&h=400',
  coverPhoto: 'https://images.unsplash.com/photo-1574629810360-7efbbe195018?auto=format&fit=crop&w=1920&h=400'
}
5:48:33 PM [express] GET /api/students/me 304 in 995ms :: {"id":"5c2d8e33-a6de-4235-b052-cabedf0585a…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/student/5c2d8e33-a6de-4235-b052-cabedf0585a9?limit=12&offset=0',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
5:48:37 PM [express] GET /api/posts/student/5c2d8e33-a6de-4235-b052-cabedf0585a9 304 in 4200ms :: [{…
5:48:43 PM [vite] hmr update /src/pages/profile.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/users/me',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔍 /api/users/me - Auth object: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59'
}
🔍 /api/users/me - Database query result: { resultCount: 1, userId: '77554460-06da-48d3-9447-5ce416ff66c8' }
🔍 /api/users/me - Final schoolId: {
  dbSchoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  jwtSchoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  finalSchoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59'
}
✅ /api/users/me - Returning user data: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  profilePicUrl: 'https://images.unsplash.com/photo-1594736797933-d0281ba35a95?auto=format&fit=crop&w=400&h=400'
}
5:50:23 PM [express] GET /api/users/me 304 in 1946ms :: {"id":"77554460-06da-48d3-9447-5ce416ff66c8"…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/students/me',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔍 /api/students/me - User ID: 77554460-06da-48d3-9447-5ce416ff66c8
📸 Returning profile URLs: {
  profilePic: 'https://images.unsplash.com/photo-1594736797933-d0281ba35a95?auto=format&fit=crop&w=400&h=400',
  coverPhoto: 'https://images.unsplash.com/photo-1574629810360-7efbbe195018?auto=format&fit=crop&w=1920&h=400'
}
5:50:24 PM [express] GET /api/students/me 304 in 953ms :: {"id":"5c2d8e33-a6de-4235-b052-cabedf0585a…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/student/5c2d8e33-a6de-4235-b052-cabedf0585a9?limit=12&offset=0',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
5:50:36 PM [express] GET /api/posts/student/5c2d8e33-a6de-4235-b052-cabedf0585a9 304 in 6044ms :: [{…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/feed?limit=12&offset=0',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
5:50:41 PM [express] GET /api/posts/feed 200 in 2025ms :: {"posts":[{"id":"5cabbad9-3afe-4074-8896-3…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/5cabbad9-3afe-4074-8896-3b37571c4d93/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/8677a52d-2add-4550-9441-715d0693e4bb/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/f1765b2f-b1fd-4108-bcd4-99b5381d320a/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/ac3dba29-9574-492d-abb8-b8a88e555d3e/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/223ff8b7-8a18-4b1e-bea9-065cd4e5a4d6/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/92b8399e-89dc-4a35-9107-3c18f7b3a669/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
5:50:45 PM [express] POST /api/posts/5cabbad9-3afe-4074-8896-3b37571c4d93/view 200 in 369ms :: {"suc…
5:50:45 PM [express] POST /api/posts/8677a52d-2add-4550-9441-715d0693e4bb/view 200 in 370ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/0cec5ed2-e42a-4c6c-bc28-b008a5b2f660/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/d35e2229-10b4-4731-bd63-004128d70b2f/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
5:50:45 PM [express] POST /api/posts/0cec5ed2-e42a-4c6c-bc28-b008a5b2f660/view 200 in 240ms :: {"suc…
5:50:45 PM [express] POST /api/posts/d35e2229-10b4-4731-bd63-004128d70b2f/view 200 in 237ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/bde6e23c-82c7-439d-859d-86835d43ad62/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/17f54087-5238-4e20-9e7e-b2c8768449cb/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
5:50:45 PM [express] POST /api/posts/223ff8b7-8a18-4b1e-bea9-065cd4e5a4d6/view 200 in 843ms :: {"suc…
5:50:45 PM [express] POST /api/posts/f1765b2f-b1fd-4108-bcd4-99b5381d320a/view 200 in 856ms :: {"suc…
5:50:45 PM [express] POST /api/posts/92b8399e-89dc-4a35-9107-3c18f7b3a669/view 200 in 848ms :: {"suc…
5:50:45 PM [express] POST /api/posts/bde6e23c-82c7-439d-859d-86835d43ad62/view 200 in 249ms :: {"suc…
5:50:45 PM [express] POST /api/posts/17f54087-5238-4e20-9e7e-b2c8768449cb/view 200 in 249ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/79a6c465-70df-48f6-970d-72ea43da54f0/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
5:50:45 PM [express] POST /api/posts/ac3dba29-9574-492d-abb8-b8a88e555d3e/view 200 in 863ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/648a3943-879e-4a8c-872d-5ed8884bc949/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
5:50:46 PM [express] POST /api/posts/79a6c465-70df-48f6-970d-72ea43da54f0/view 200 in 314ms :: {"suc…
5:50:46 PM [express] POST /api/posts/648a3943-879e-4a8c-872d-5ed8884bc949/view 200 in 314ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/5cabbad9-3afe-4074-8896-3b37571c4d93/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/8677a52d-2add-4550-9441-715d0693e4bb/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/f1765b2f-b1fd-4108-bcd4-99b5381d320a/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/ac3dba29-9574-492d-abb8-b8a88e555d3e/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/223ff8b7-8a18-4b1e-bea9-065cd4e5a4d6/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/92b8399e-89dc-4a35-9107-3c18f7b3a669/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
5:50:48 PM [express] POST /api/posts/5cabbad9-3afe-4074-8896-3b37571c4d93/view 200 in 243ms :: {"suc…
5:50:48 PM [express] POST /api/posts/ac3dba29-9574-492d-abb8-b8a88e555d3e/view 200 in 240ms :: {"suc…
5:50:48 PM [express] POST /api/posts/223ff8b7-8a18-4b1e-bea9-065cd4e5a4d6/view 200 in 241ms :: {"suc…
5:50:48 PM [express] POST /api/posts/f1765b2f-b1fd-4108-bcd4-99b5381d320a/view 200 in 252ms :: {"suc…
5:50:48 PM [express] POST /api/posts/92b8399e-89dc-4a35-9107-3c18f7b3a669/view 200 in 247ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/0cec5ed2-e42a-4c6c-bc28-b008a5b2f660/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/d35e2229-10b4-4731-bd63-004128d70b2f/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
5:50:48 PM [express] POST /api/posts/8677a52d-2add-4550-9441-715d0693e4bb/view 200 in 261ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/bde6e23c-82c7-439d-859d-86835d43ad62/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/17f54087-5238-4e20-9e7e-b2c8768449cb/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/79a6c465-70df-48f6-970d-72ea43da54f0/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/648a3943-879e-4a8c-872d-5ed8884bc949/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
5:50:48 PM [express] POST /api/posts/d35e2229-10b4-4731-bd63-004128d70b2f/view 200 in 240ms :: {"suc…
5:50:48 PM [express] POST /api/posts/17f54087-5238-4e20-9e7e-b2c8768449cb/view 200 in 238ms :: {"suc…
5:50:48 PM [express] POST /api/posts/bde6e23c-82c7-439d-859d-86835d43ad62/view 200 in 240ms :: {"suc…
5:50:48 PM [express] POST /api/posts/0cec5ed2-e42a-4c6c-bc28-b008a5b2f660/view 200 in 246ms :: {"suc…
5:50:48 PM [express] POST /api/posts/648a3943-879e-4a8c-872d-5ed8884bc949/view 200 in 237ms :: {"suc…
5:50:48 PM [express] POST /api/posts/79a6c465-70df-48f6-970d-72ea43da54f0/view 200 in 240ms :: {"suc…
5:53:17 PM [vite] hmr update /src/pages/feed.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/users/me',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔍 /api/users/me - Auth object: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/feed?limit=12&offset=0',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/students/me',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔍 /api/students/me - User ID: 77554460-06da-48d3-9447-5ce416ff66c8
🔍 /api/users/me - Database query result: { resultCount: 1, userId: '77554460-06da-48d3-9447-5ce416ff66c8' }
🔍 /api/users/me - Final schoolId: {
  dbSchoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  jwtSchoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  finalSchoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59'
}
✅ /api/users/me - Returning user data: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  profilePicUrl: 'https://images.unsplash.com/photo-1594736797933-d0281ba35a95?auto=format&fit=crop&w=400&h=400'
}
5:53:18 PM [express] GET /api/users/me 304 in 1057ms :: {"id":"77554460-06da-48d3-9447-5ce416ff66c8"…
📸 Returning profile URLs: {
  profilePic: 'https://images.unsplash.com/photo-1594736797933-d0281ba35a95?auto=format&fit=crop&w=400&h=400',
  coverPhoto: 'https://images.unsplash.com/photo-1574629810360-7efbbe195018?auto=format&fit=crop&w=1920&h=400'
}
5:53:19 PM [express] GET /api/students/me 304 in 2045ms :: {"id":"5c2d8e33-a6de-4235-b052-cabedf0585…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/5cabbad9-3afe-4074-8896-3b37571c4d93/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/8677a52d-2add-4550-9441-715d0693e4bb/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/f1765b2f-b1fd-4108-bcd4-99b5381d320a/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/ac3dba29-9574-492d-abb8-b8a88e555d3e/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/223ff8b7-8a18-4b1e-bea9-065cd4e5a4d6/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
5:53:19 PM [express] GET /api/posts/feed 200 in 2285ms :: {"posts":[{"id":"5cabbad9-3afe-4074-8896-3…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/92b8399e-89dc-4a35-9107-3c18f7b3a669/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
5:53:19 PM [express] POST /api/posts/5cabbad9-3afe-4074-8896-3b37571c4d93/view 200 in 237ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/0cec5ed2-e42a-4c6c-bc28-b008a5b2f660/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
5:53:19 PM [express] POST /api/posts/f1765b2f-b1fd-4108-bcd4-99b5381d320a/view 200 in 234ms :: {"suc…
5:53:19 PM [express] POST /api/posts/8677a52d-2add-4550-9441-715d0693e4bb/view 200 in 238ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/d35e2229-10b4-4731-bd63-004128d70b2f/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/bde6e23c-82c7-439d-859d-86835d43ad62/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
5:53:19 PM [express] POST /api/posts/ac3dba29-9574-492d-abb8-b8a88e555d3e/view 200 in 236ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/17f54087-5238-4e20-9e7e-b2c8768449cb/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
5:53:19 PM [express] POST /api/posts/223ff8b7-8a18-4b1e-bea9-065cd4e5a4d6/view 200 in 236ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/79a6c465-70df-48f6-970d-72ea43da54f0/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
5:53:20 PM [express] POST /api/posts/92b8399e-89dc-4a35-9107-3c18f7b3a669/view 200 in 241ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/648a3943-879e-4a8c-872d-5ed8884bc949/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
5:53:20 PM [express] POST /api/posts/0cec5ed2-e42a-4c6c-bc28-b008a5b2f660/view 200 in 251ms :: {"suc…
5:53:20 PM [express] POST /api/posts/d35e2229-10b4-4731-bd63-004128d70b2f/view 200 in 246ms :: {"suc…
5:53:20 PM [express] POST /api/posts/bde6e23c-82c7-439d-859d-86835d43ad62/view 200 in 248ms :: {"suc…
5:53:20 PM [express] POST /api/posts/17f54087-5238-4e20-9e7e-b2c8768449cb/view 200 in 245ms :: {"suc…
5:53:20 PM [express] POST /api/posts/79a6c465-70df-48f6-970d-72ea43da54f0/view 200 in 244ms :: {"suc…
5:53:20 PM [express] POST /api/posts/648a3943-879e-4a8c-872d-5ed8884bc949/view 200 in 237ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/5cabbad9-3afe-4074-8896-3b37571c4d93/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/8677a52d-2add-4550-9441-715d0693e4bb/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/f1765b2f-b1fd-4108-bcd4-99b5381d320a/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/ac3dba29-9574-492d-abb8-b8a88e555d3e/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/223ff8b7-8a18-4b1e-bea9-065cd4e5a4d6/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/92b8399e-89dc-4a35-9107-3c18f7b3a669/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
5:53:21 PM [express] POST /api/posts/8677a52d-2add-4550-9441-715d0693e4bb/view 200 in 332ms :: {"suc…
5:53:21 PM [express] POST /api/posts/ac3dba29-9574-492d-abb8-b8a88e555d3e/view 200 in 329ms :: {"suc…
5:53:21 PM [express] POST /api/posts/f1765b2f-b1fd-4108-bcd4-99b5381d320a/view 200 in 331ms :: {"suc…
5:53:21 PM [express] POST /api/posts/5cabbad9-3afe-4074-8896-3b37571c4d93/view 200 in 337ms :: {"suc…
5:53:21 PM [express] POST /api/posts/223ff8b7-8a18-4b1e-bea9-065cd4e5a4d6/view 200 in 330ms :: {"suc…
5:53:21 PM [express] POST /api/posts/92b8399e-89dc-4a35-9107-3c18f7b3a669/view 200 in 329ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/0cec5ed2-e42a-4c6c-bc28-b008a5b2f660/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/d35e2229-10b4-4731-bd63-004128d70b2f/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/bde6e23c-82c7-439d-859d-86835d43ad62/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/17f54087-5238-4e20-9e7e-b2c8768449cb/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/79a6c465-70df-48f6-970d-72ea43da54f0/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/648a3943-879e-4a8c-872d-5ed8884bc949/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
5:53:21 PM [express] POST /api/posts/d35e2229-10b4-4731-bd63-004128d70b2f/view 200 in 233ms :: {"suc…
5:53:21 PM [express] POST /api/posts/17f54087-5238-4e20-9e7e-b2c8768449cb/view 200 in 232ms :: {"suc…
5:53:21 PM [express] POST /api/posts/bde6e23c-82c7-439d-859d-86835d43ad62/view 200 in 235ms :: {"suc…
5:53:21 PM [express] POST /api/posts/0cec5ed2-e42a-4c6c-bc28-b008a5b2f660/view 200 in 239ms :: {"suc…
5:53:21 PM [express] POST /api/posts/79a6c465-70df-48f6-970d-72ea43da54f0/view 200 in 234ms :: {"suc…
5:53:21 PM [express] POST /api/posts/648a3943-879e-4a8c-872d-5ed8884bc949/view 200 in 233ms :: {"suc…
5:53:31 PM [vite] hmr update /src/pages/feed.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/5cabbad9-3afe-4074-8896-3b37571c4d93/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/8677a52d-2add-4550-9441-715d0693e4bb/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/f1765b2f-b1fd-4108-bcd4-99b5381d320a/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/ac3dba29-9574-492d-abb8-b8a88e555d3e/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/223ff8b7-8a18-4b1e-bea9-065cd4e5a4d6/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/92b8399e-89dc-4a35-9107-3c18f7b3a669/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
5:53:33 PM [express] POST /api/posts/5cabbad9-3afe-4074-8896-3b37571c4d93/view 200 in 824ms :: {"suc…
5:53:33 PM [express] POST /api/posts/f1765b2f-b1fd-4108-bcd4-99b5381d320a/view 200 in 814ms :: {"suc…
5:53:33 PM [express] POST /api/posts/8677a52d-2add-4550-9441-715d0693e4bb/view 200 in 820ms :: {"suc…
5:53:33 PM [express] POST /api/posts/92b8399e-89dc-4a35-9107-3c18f7b3a669/view 200 in 798ms :: {"suc…
5:53:33 PM [express] POST /api/posts/223ff8b7-8a18-4b1e-bea9-065cd4e5a4d6/view 200 in 807ms :: {"suc…
5:53:33 PM [express] POST /api/posts/ac3dba29-9574-492d-abb8-b8a88e555d3e/view 200 in 811ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/0cec5ed2-e42a-4c6c-bc28-b008a5b2f660/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/d35e2229-10b4-4731-bd63-004128d70b2f/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/bde6e23c-82c7-439d-859d-86835d43ad62/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/17f54087-5238-4e20-9e7e-b2c8768449cb/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/79a6c465-70df-48f6-970d-72ea43da54f0/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/648a3943-879e-4a8c-872d-5ed8884bc949/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
5:53:33 PM [express] POST /api/posts/0cec5ed2-e42a-4c6c-bc28-b008a5b2f660/view 200 in 233ms :: {"suc…
5:53:33 PM [express] POST /api/posts/d35e2229-10b4-4731-bd63-004128d70b2f/view 200 in 232ms :: {"suc…
5:53:33 PM [express] POST /api/posts/bde6e23c-82c7-439d-859d-86835d43ad62/view 200 in 232ms :: {"suc…
5:53:33 PM [express] POST /api/posts/17f54087-5238-4e20-9e7e-b2c8768449cb/view 200 in 232ms :: {"suc…
5:53:33 PM [express] POST /api/posts/79a6c465-70df-48f6-970d-72ea43da54f0/view 200 in 233ms :: {"suc…
5:53:33 PM [express] POST /api/posts/648a3943-879e-4a8c-872d-5ed8884bc949/view 200 in 238ms :: {"suc…
5:53:45 PM [vite] hmr update /src/pages/feed.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/5cabbad9-3afe-4074-8896-3b37571c4d93/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/8677a52d-2add-4550-9441-715d0693e4bb/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/f1765b2f-b1fd-4108-bcd4-99b5381d320a/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/ac3dba29-9574-492d-abb8-b8a88e555d3e/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/223ff8b7-8a18-4b1e-bea9-065cd4e5a4d6/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/92b8399e-89dc-4a35-9107-3c18f7b3a669/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
5:53:47 PM [express] POST /api/posts/5cabbad9-3afe-4074-8896-3b37571c4d93/view 200 in 716ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/0cec5ed2-e42a-4c6c-bc28-b008a5b2f660/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
5:53:47 PM [express] POST /api/posts/ac3dba29-9574-492d-abb8-b8a88e555d3e/view 200 in 720ms :: {"suc…
5:53:47 PM [express] POST /api/posts/f1765b2f-b1fd-4108-bcd4-99b5381d320a/view 200 in 724ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/d35e2229-10b4-4731-bd63-004128d70b2f/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/bde6e23c-82c7-439d-859d-86835d43ad62/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
5:53:47 PM [express] POST /api/posts/223ff8b7-8a18-4b1e-bea9-065cd4e5a4d6/view 200 in 746ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/17f54087-5238-4e20-9e7e-b2c8768449cb/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
5:53:47 PM [express] POST /api/posts/8677a52d-2add-4550-9441-715d0693e4bb/view 200 in 755ms :: {"suc…
5:53:47 PM [express] POST /api/posts/92b8399e-89dc-4a35-9107-3c18f7b3a669/view 200 in 750ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/79a6c465-70df-48f6-970d-72ea43da54f0/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/648a3943-879e-4a8c-872d-5ed8884bc949/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
5:53:47 PM [express] POST /api/posts/0cec5ed2-e42a-4c6c-bc28-b008a5b2f660/view 200 in 230ms :: {"suc…
5:53:47 PM [express] POST /api/posts/d35e2229-10b4-4731-bd63-004128d70b2f/view 200 in 235ms :: {"suc…
5:53:47 PM [express] POST /api/posts/bde6e23c-82c7-439d-859d-86835d43ad62/view 200 in 234ms :: {"suc…
5:53:47 PM [express] POST /api/posts/17f54087-5238-4e20-9e7e-b2c8768449cb/view 200 in 232ms :: {"suc…
5:53:47 PM [express] POST /api/posts/79a6c465-70df-48f6-970d-72ea43da54f0/view 200 in 232ms :: {"suc…
5:53:47 PM [express] POST /api/posts/648a3943-879e-4a8c-872d-5ed8884bc949/view 200 in 232ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/users/me',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔍 /api/users/me - Auth object: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59'
}
🔍 /api/users/me - Database query result: { resultCount: 1, userId: '77554460-06da-48d3-9447-5ce416ff66c8' }
🔍 /api/users/me - Final schoolId: {
  dbSchoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  jwtSchoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  finalSchoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59'
}
✅ /api/users/me - Returning user data: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  profilePicUrl: 'https://images.unsplash.com/photo-1594736797933-d0281ba35a95?auto=format&fit=crop&w=400&h=400'
}
6:03:55 PM [express] GET /api/users/me 304 in 2299ms :: {"id":"77554460-06da-48d3-9447-5ce416ff66c8"…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/students/me',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔍 /api/students/me - User ID: 77554460-06da-48d3-9447-5ce416ff66c8
📸 Returning profile URLs: {
  profilePic: 'https://images.unsplash.com/photo-1594736797933-d0281ba35a95?auto=format&fit=crop&w=400&h=400',
  coverPhoto: 'https://images.unsplash.com/photo-1574629810360-7efbbe195018?auto=format&fit=crop&w=1920&h=400'
}
6:03:56 PM [express] GET /api/students/me 304 in 1056ms :: {"id":"5c2d8e33-a6de-4235-b052-cabedf0585…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/feed?limit=12&offset=0',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/5cabbad9-3afe-4074-8896-3b37571c4d93/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/8677a52d-2add-4550-9441-715d0693e4bb/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/f1765b2f-b1fd-4108-bcd4-99b5381d320a/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/ac3dba29-9574-492d-abb8-b8a88e555d3e/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/223ff8b7-8a18-4b1e-bea9-065cd4e5a4d6/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
6:04:05 PM [express] POST /api/posts/f1765b2f-b1fd-4108-bcd4-99b5381d320a/view 200 in 792ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/92b8399e-89dc-4a35-9107-3c18f7b3a669/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
6:04:05 PM [express] POST /api/posts/223ff8b7-8a18-4b1e-bea9-065cd4e5a4d6/view 200 in 817ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/0cec5ed2-e42a-4c6c-bc28-b008a5b2f660/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
6:04:05 PM [express] POST /api/posts/5cabbad9-3afe-4074-8896-3b37571c4d93/view 200 in 846ms :: {"suc…
6:04:05 PM [express] POST /api/posts/ac3dba29-9574-492d-abb8-b8a88e555d3e/view 200 in 837ms :: {"suc…
6:04:05 PM [express] POST /api/posts/8677a52d-2add-4550-9441-715d0693e4bb/view 200 in 847ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/d35e2229-10b4-4731-bd63-004128d70b2f/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/bde6e23c-82c7-439d-859d-86835d43ad62/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/17f54087-5238-4e20-9e7e-b2c8768449cb/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
6:04:05 PM [express] POST /api/posts/d35e2229-10b4-4731-bd63-004128d70b2f/view 200 in 290ms :: {"suc…
6:04:05 PM [express] POST /api/posts/92b8399e-89dc-4a35-9107-3c18f7b3a669/view 200 in 341ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/79a6c465-70df-48f6-970d-72ea43da54f0/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/648a3943-879e-4a8c-872d-5ed8884bc949/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
6:04:05 PM [express] POST /api/posts/17f54087-5238-4e20-9e7e-b2c8768449cb/view 200 in 306ms :: {"suc…
6:04:05 PM [express] POST /api/posts/bde6e23c-82c7-439d-859d-86835d43ad62/view 200 in 309ms :: {"suc…
6:04:05 PM [express] POST /api/posts/0cec5ed2-e42a-4c6c-bc28-b008a5b2f660/view 200 in 331ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/student/5c2d8e33-a6de-4235-b052-cabedf0585a9?limit=12&offset=0',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
6:04:05 PM [express] POST /api/posts/79a6c465-70df-48f6-970d-72ea43da54f0/view 200 in 253ms :: {"suc…
6:04:05 PM [express] POST /api/posts/648a3943-879e-4a8c-872d-5ed8884bc949/view 200 in 253ms :: {"suc…
6:04:05 PM [express] GET /api/posts/feed 200 in 2491ms :: {"posts":[{"id":"5cabbad9-3afe-4074-8896-3…
6:04:10 PM [express] GET /api/posts/student/5c2d8e33-a6de-4235-b052-cabedf0585a9 304 in 4462ms :: [{…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/8677a52d-2add-4550-9441-715d0693e4bb',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
6:04:18 PM [express] GET /api/posts/8677a52d-2add-4550-9441-715d0693e4bb 200 in 4173ms :: {"id":"867…
6:04:19 PM [express] GET /api/posts/8677a52d-2add-4550-9441-715d0693e4bb/comments 200 in 1049ms :: […
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/users/me',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔍 /api/users/me - Auth object: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59'
}
🔍 /api/users/me - Database query result: { resultCount: 1, userId: '77554460-06da-48d3-9447-5ce416ff66c8' }
🔍 /api/users/me - Final schoolId: {
  dbSchoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  jwtSchoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  finalSchoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59'
}
✅ /api/users/me - Returning user data: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  profilePicUrl: 'https://images.unsplash.com/photo-1594736797933-d0281ba35a95?auto=format&fit=crop&w=400&h=400'
}
6:05:28 PM [express] GET /api/users/me 304 in 1730ms :: {"id":"77554460-06da-48d3-9447-5ce416ff66c8"…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/feed?limit=12&offset=0',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/students/me',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔍 /api/students/me - User ID: 77554460-06da-48d3-9447-5ce416ff66c8
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/5cabbad9-3afe-4074-8896-3b37571c4d93/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/8677a52d-2add-4550-9441-715d0693e4bb/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/f1765b2f-b1fd-4108-bcd4-99b5381d320a/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/ac3dba29-9574-492d-abb8-b8a88e555d3e/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
6:05:30 PM [express] POST /api/posts/5cabbad9-3afe-4074-8896-3b37571c4d93/view 200 in 260ms :: {"suc…
6:05:30 PM [express] POST /api/posts/8677a52d-2add-4550-9441-715d0693e4bb/view 200 in 257ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/223ff8b7-8a18-4b1e-bea9-065cd4e5a4d6/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/92b8399e-89dc-4a35-9107-3c18f7b3a669/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
6:05:30 PM [express] POST /api/posts/223ff8b7-8a18-4b1e-bea9-065cd4e5a4d6/view 200 in 241ms :: {"suc…
6:05:30 PM [express] POST /api/posts/92b8399e-89dc-4a35-9107-3c18f7b3a669/view 200 in 242ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/0cec5ed2-e42a-4c6c-bc28-b008a5b2f660/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/d35e2229-10b4-4731-bd63-004128d70b2f/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
6:05:30 PM [express] POST /api/posts/f1765b2f-b1fd-4108-bcd4-99b5381d320a/view 200 in 751ms :: {"suc…
6:05:30 PM [express] POST /api/posts/0cec5ed2-e42a-4c6c-bc28-b008a5b2f660/view 200 in 244ms :: {"suc…
6:05:30 PM [express] POST /api/posts/d35e2229-10b4-4731-bd63-004128d70b2f/view 200 in 244ms :: {"suc…
6:05:30 PM [express] POST /api/posts/ac3dba29-9574-492d-abb8-b8a88e555d3e/view 200 in 756ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/bde6e23c-82c7-439d-859d-86835d43ad62/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/17f54087-5238-4e20-9e7e-b2c8768449cb/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/79a6c465-70df-48f6-970d-72ea43da54f0/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/648a3943-879e-4a8c-872d-5ed8884bc949/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
6:05:30 PM [express] GET /api/posts/feed 200 in 1837ms :: {"posts":[{"id":"5cabbad9-3afe-4074-8896-3…
6:05:31 PM [express] POST /api/posts/17f54087-5238-4e20-9e7e-b2c8768449cb/view 200 in 282ms :: {"suc…
6:05:31 PM [express] POST /api/posts/bde6e23c-82c7-439d-859d-86835d43ad62/view 200 in 288ms :: {"suc…
6:05:31 PM [express] POST /api/posts/79a6c465-70df-48f6-970d-72ea43da54f0/view 200 in 285ms :: {"suc…
📸 Returning profile URLs: {
  profilePic: 'https://images.unsplash.com/photo-1594736797933-d0281ba35a95?auto=format&fit=crop&w=400&h=400',
  coverPhoto: 'https://images.unsplash.com/photo-1574629810360-7efbbe195018?auto=format&fit=crop&w=1920&h=400'
}
6:05:31 PM [express] GET /api/students/me 304 in 2116ms :: {"id":"5c2d8e33-a6de-4235-b052-cabedf0585…
6:05:31 PM [express] POST /api/posts/648a3943-879e-4a8c-872d-5ed8884bc949/view 200 in 288ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/5cabbad9-3afe-4074-8896-3b37571c4d93/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/8677a52d-2add-4550-9441-715d0693e4bb/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/f1765b2f-b1fd-4108-bcd4-99b5381d320a/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/ac3dba29-9574-492d-abb8-b8a88e555d3e/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/223ff8b7-8a18-4b1e-bea9-065cd4e5a4d6/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/92b8399e-89dc-4a35-9107-3c18f7b3a669/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
6:05:32 PM [express] POST /api/posts/92b8399e-89dc-4a35-9107-3c18f7b3a669/view 200 in 246ms :: {"suc…
6:05:32 PM [express] POST /api/posts/8677a52d-2add-4550-9441-715d0693e4bb/view 200 in 261ms :: {"suc…
6:05:32 PM [express] POST /api/posts/223ff8b7-8a18-4b1e-bea9-065cd4e5a4d6/view 200 in 254ms :: {"suc…
6:05:32 PM [express] POST /api/posts/5cabbad9-3afe-4074-8896-3b37571c4d93/view 200 in 270ms :: {"suc…
6:05:32 PM [express] POST /api/posts/ac3dba29-9574-492d-abb8-b8a88e555d3e/view 200 in 260ms :: {"suc…
6:05:32 PM [express] POST /api/posts/f1765b2f-b1fd-4108-bcd4-99b5381d320a/view 200 in 264ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/0cec5ed2-e42a-4c6c-bc28-b008a5b2f660/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/d35e2229-10b4-4731-bd63-004128d70b2f/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/bde6e23c-82c7-439d-859d-86835d43ad62/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/17f54087-5238-4e20-9e7e-b2c8768449cb/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/79a6c465-70df-48f6-970d-72ea43da54f0/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/648a3943-879e-4a8c-872d-5ed8884bc949/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
6:05:32 PM [express] POST /api/posts/0cec5ed2-e42a-4c6c-bc28-b008a5b2f660/view 200 in 249ms :: {"suc…
6:05:32 PM [express] POST /api/posts/d35e2229-10b4-4731-bd63-004128d70b2f/view 200 in 250ms :: {"suc…
6:05:32 PM [express] POST /api/posts/bde6e23c-82c7-439d-859d-86835d43ad62/view 200 in 251ms :: {"suc…
6:05:32 PM [express] POST /api/posts/648a3943-879e-4a8c-872d-5ed8884bc949/view 200 in 249ms :: {"suc…
6:05:32 PM [express] POST /api/posts/79a6c465-70df-48f6-970d-72ea43da54f0/view 200 in 252ms :: {"suc…
6:05:32 PM [express] POST /api/posts/17f54087-5238-4e20-9e7e-b2c8768449cb/view 200 in 255ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/5cabbad9-3afe-4074-8896-3b37571c4d93/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/8677a52d-2add-4550-9441-715d0693e4bb/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/f1765b2f-b1fd-4108-bcd4-99b5381d320a/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/ac3dba29-9574-492d-abb8-b8a88e555d3e/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/223ff8b7-8a18-4b1e-bea9-065cd4e5a4d6/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/92b8399e-89dc-4a35-9107-3c18f7b3a669/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
6:05:39 PM [express] POST /api/posts/223ff8b7-8a18-4b1e-bea9-065cd4e5a4d6/view 200 in 919ms :: {"suc…
6:05:39 PM [express] POST /api/posts/5cabbad9-3afe-4074-8896-3b37571c4d93/view 200 in 940ms :: {"suc…
6:05:39 PM [express] POST /api/posts/ac3dba29-9574-492d-abb8-b8a88e555d3e/view 200 in 924ms :: {"suc…
6:05:39 PM [express] POST /api/posts/8677a52d-2add-4550-9441-715d0693e4bb/view 200 in 935ms :: {"suc…
6:05:39 PM [express] POST /api/posts/92b8399e-89dc-4a35-9107-3c18f7b3a669/view 200 in 918ms :: {"suc…
6:05:39 PM [express] POST /api/posts/f1765b2f-b1fd-4108-bcd4-99b5381d320a/view 200 in 930ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/0cec5ed2-e42a-4c6c-bc28-b008a5b2f660/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/d35e2229-10b4-4731-bd63-004128d70b2f/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/bde6e23c-82c7-439d-859d-86835d43ad62/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/17f54087-5238-4e20-9e7e-b2c8768449cb/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/79a6c465-70df-48f6-970d-72ea43da54f0/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/648a3943-879e-4a8c-872d-5ed8884bc949/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
6:05:40 PM [express] POST /api/posts/0cec5ed2-e42a-4c6c-bc28-b008a5b2f660/view 200 in 240ms :: {"suc…
6:05:40 PM [express] POST /api/posts/d35e2229-10b4-4731-bd63-004128d70b2f/view 200 in 240ms :: {"suc…
6:05:40 PM [express] POST /api/posts/79a6c465-70df-48f6-970d-72ea43da54f0/view 200 in 237ms :: {"suc…
6:05:40 PM [express] POST /api/posts/17f54087-5238-4e20-9e7e-b2c8768449cb/view 200 in 239ms :: {"suc…
6:05:40 PM [express] POST /api/posts/bde6e23c-82c7-439d-859d-86835d43ad62/view 200 in 241ms :: {"suc…
6:05:40 PM [express] POST /api/posts/648a3943-879e-4a8c-872d-5ed8884bc949/view 200 in 238ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/submissions/me',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
6:05:53 PM [express] GET /api/xen-watch/submissions/me 200 in 1663ms :: {"submissions":[{"id":"dc3d4…
6:11:49 PM [vite] hmr update /src/pages/scoutai/index.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
6:11:56 PM [vite] hmr update /src/pages/scoutai/index.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
6:11:59 PM [vite] hmr update /src/pages/xen-watch/index.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/users/me',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔍 /api/users/me - Auth object: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/submissions/me',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔍 /api/users/me - Database query result: { resultCount: 1, userId: '77554460-06da-48d3-9447-5ce416ff66c8' }
🔍 /api/users/me - Final schoolId: {
  dbSchoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  jwtSchoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  finalSchoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59'
}
6:12:01 PM [express] GET /api/xen-watch/submissions/me 304 in 1540ms :: {"submissions":[{"id":"dc3d4…
✅ /api/users/me - Returning user data: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  profilePicUrl: 'https://images.unsplash.com/photo-1594736797933-d0281ba35a95?auto=format&fit=crop&w=400&h=400'
}
6:12:02 PM [express] GET /api/users/me 304 in 2025ms :: {"id":"77554460-06da-48d3-9447-5ce416ff66c8"…
6:12:17 PM [vite] hmr update /src/pages/xen-watch/index.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
6:12:52 PM [vite] hmr update /src/pages/xen-watch/index.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
6:13:02 PM [vite] hmr update /src/pages/xen-watch/index.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/users/me',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔍 /api/users/me - Auth object: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59'
}
🔍 /api/users/me - Database query result: { resultCount: 1, userId: '77554460-06da-48d3-9447-5ce416ff66c8' }
🔍 /api/users/me - Final schoolId: {
  dbSchoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  jwtSchoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  finalSchoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59'
}
✅ /api/users/me - Returning user data: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  profilePicUrl: 'https://images.unsplash.com/photo-1594736797933-d0281ba35a95?auto=format&fit=crop&w=400&h=400'
}
6:13:04 PM [express] GET /api/users/me 304 in 1461ms :: {"id":"77554460-06da-48d3-9447-5ce416ff66c8"…
6:13:46 PM [vite] page reload src/pages/scouts/index.tsx
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/submissions/me',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
6:13:48 PM [express] GET /api/xen-watch/submissions/me 304 in 1505ms :: {"submissions":[{"id":"dc3d4…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/students/me',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔍 /api/students/me - User ID: 77554460-06da-48d3-9447-5ce416ff66c8
📸 Returning profile URLs: {
  profilePic: 'https://images.unsplash.com/photo-1594736797933-d0281ba35a95?auto=format&fit=crop&w=400&h=400',
  coverPhoto: 'https://images.unsplash.com/photo-1574629810360-7efbbe195018?auto=format&fit=crop&w=1920&h=400'
}
6:13:49 PM [express] GET /api/students/me 304 in 950ms :: {"id":"5c2d8e33-a6de-4235-b052-cabedf0585a…
6:13:54 PM [vite] page reload src/pages/scouts/index.tsx
6:14:11 PM [vite] page reload src/pages/scouts/index.tsx
6:14:11 PM [vite] hmr update /src/pages/scoutai/index.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
6:14:11 PM [vite] hmr update /src/pages/xen-watch/index.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/users/me',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔍 /api/users/me - Auth object: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59'
}
🔍 /api/users/me - Database query result: { resultCount: 1, userId: '77554460-06da-48d3-9447-5ce416ff66c8' }
🔍 /api/users/me - Final schoolId: {
  dbSchoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  jwtSchoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  finalSchoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59'
}
✅ /api/users/me - Returning user data: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  profilePicUrl: 'https://images.unsplash.com/photo-1594736797933-d0281ba35a95?auto=format&fit=crop&w=400&h=400'
}
6:14:13 PM [express] GET /api/users/me 304 in 1507ms :: {"id":"77554460-06da-48d3-9447-5ce416ff66c8"…
🔐 Rate limiting skipped in development for: /login
🔐 Login attempt: {
  email: 'adminscout@xen.com',
  hasPassword: true,
  passwordLength: 6,
  timestamp: '2025-09-28T15:15:38.699Z'
}
🔐 Attempting admin authentication for: adminscout@xen.com
🔐 Admin OTP verification failed: No valid OTP for admin: 1157cb65-e116-4e00-87ef-2ebddec34f93
🔐 Admin password verification successful for: 1157cb65-e116-4e00-87ef-2ebddec34f93
🔐 Admin password login successful: {
  adminId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  email: 'adminscout@xen.com',
  role: 'scout_admin'
}
6:15:41 PM [express] POST /api/auth/login 200 in 2787ms :: {"token":"eyJhbGciOiJIUzI1NiIsInR5cCI6Ikp…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/users/me',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔍 /api/users/me - Auth object: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  role: 'scout_admin',
  schoolId: null
}
🔍 /api/users/me - Database query result: { resultCount: 1, userId: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9' }
🔍 /api/users/me - Final schoolId: { dbSchoolId: null, jwtSchoolId: null, finalSchoolId: null }
🔍 Admin profile picture: {
  role: 'scout_admin',
  profilePicUrl: 'https://res.cloudinary.com/dh9cfkyhc/image/upload/v1758772148/lockerroom/profilePic/nfhezrnrpkk3lgslxtne.jpg'
}
✅ /api/users/me - Returning user data: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  role: 'scout_admin',
  schoolId: null,
  profilePicUrl: 'https://res.cloudinary.com/dh9cfkyhc/image/upload/v1758772148/lockerroom/profilePic/nfhezrnrpkk3lgslxtne.jpg'
}
6:15:41 PM [express] GET /api/users/me 200 in 481ms :: {"id":"3781838b-f36c-42a6-ad8b-2cc4e892cbb9",…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/api/xen-watch/analytics/overview',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔍 About to execute scout count query...
🔢 Scout count raw result: {
  fields: [
    {
      name: 'count',
      dataTypeID: 20,
      tableID: 0,
      columnID: 0,
      dataTypeSize: 8,
      dataTypeModifier: -1,
      format: 'text'
    }
  ],
  rows: [ { count: '14' } ],
  command: 'SELECT',
  rowCount: 1,
  rowAsArray: false,
  viaNeonFetch: true,
  _parsers: [ [Function: parseBigInteger] ],
  _types: TypeOverrides {
    _types: {
      getTypeParser: [Function: getTypeParser],
      setTypeParser: [Function: setTypeParser],
      arrayParser: [Object],
      builtins: [Object]
    },
    text: {},
    binary: {}
  }
}
🔢 Scout count rows: [ { count: '14' } ]
🔢 Scout count first row: { count: '14' }
🔢 Scout count from scout_profiles: 14
6:15:43 PM [express] GET /api/xen-watch/analytics/overview 304 in 1007ms :: {"totals":{"total_submis…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/scout/review-queue',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/admin/submissions',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
6:15:50 PM [express] GET /api/xen-watch/scout/review-queue 304 in 2449ms :: {"submissions":[{"id":"5…
6:15:50 PM [express] GET /api/xen-watch/admin/submissions 304 in 2595ms :: {"submissions":[{"id":"5b…
6:22:55 PM [vite] hmr update /src/pages/xen-watch/index.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
6:22:59 PM [vite] hmr update /src/pages/xen-watch/index.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
6:23:09 PM [vite] hmr update /src/pages/xen-watch/index.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
6:23:13 PM [vite] hmr update /src/pages/xen-watch/index.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
6:23:38 PM [vite] hmr update /src/pages/xen-watch/index.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
6:23:44 PM [vite] hmr update /src/pages/xen-watch/index.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
6:23:49 PM [vite] hmr update /src/pages/xen-watch/index.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
6:24:20 PM [vite] hmr update /src/pages/xen-watch/index.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
6:24:40 PM [vite] hmr update /src/pages/xen-watch/index.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 341,
  url: '/admin/submissions',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '3781838b-f36c-42a6-ad8b-2cc4e892cbb9',
  email: 'adminscout@xen.com',
  role: 'scout_admin',
  schoolId: null,
  linkedId: '1157cb65-e116-4e00-87ef-2ebddec34f93'
}
6:24:54 PM [express] GET /api/xen-watch/admin/submissions 304 in 2927ms :: {"submissions":[{"id":"5b…
🔐 Rate limiting skipped in development for: /login
🔐 Login attempt: {
  email: 'thiago@gmail.com',
  hasPassword: true,
  passwordLength: 10,
  timestamp: '2025-09-28T15:24:58.233Z'
}
🔐 Attempting admin authentication for: thiago@gmail.com
🔐 Admin OTP verification failed: Admin not found for email: thiago@gmail.com
🔐 Admin password verification failed: Admin not found for email: thiago@gmail.com
🔐 Attempting regular user authentication for: thiago@gmail.com
🔐 Attempting OTP verification for: thiago@gmail.com
🔐 OTP verification failed: User not found for email: thiago@gmail.com
🔐 Attempting regular password verification for: thiago@gmail.com
🔐 Password verification failed: User not found for email: thiago@gmail.com
🔐 Login failed: Invalid credentials for: thiago@gmail.com
6:24:59 PM [express] POST /api/auth/login 401 in 1018ms :: {"error":{"code":"invalid_credentials","m…
🔐 Rate limiting skipped in development for: /login
🔐 Login attempt: {
  email: 'student@lockerroom.com',
  hasPassword: true,
  passwordLength: 11,
  timestamp: '2025-09-28T15:25:09.076Z'
}
🔐 Attempting admin authentication for: student@lockerroom.com
🔐 Admin OTP verification failed: Admin not found for email: student@lockerroom.com
🔐 Admin password verification failed: Admin not found for email: student@lockerroom.com
🔐 Attempting regular user authentication for: student@lockerroom.com
🔐 Attempting OTP verification for: student@lockerroom.com
🔐 OTP verification successful for user: 77554460-06da-48d3-9447-5ce416ff66c8 OTP flag: false schoolId: 7de86fac-48d3-4acb-b636-021ca8d07d59
🔐 OTP Login successful: {
  userId: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  requiresPasswordReset: false,
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59'
}
6:25:11 PM [express] POST /api/auth/login 200 in 2902ms :: {"token":"eyJhbGciOiJIUzI1NiIsInR5cCI6Ikp…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/users/me',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔍 /api/users/me - Auth object: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59'
}
🔍 /api/users/me - Database query result: { resultCount: 1, userId: '77554460-06da-48d3-9447-5ce416ff66c8' }
🔍 /api/users/me - Final schoolId: {
  dbSchoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  jwtSchoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  finalSchoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59'
}
✅ /api/users/me - Returning user data: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  profilePicUrl: 'https://images.unsplash.com/photo-1594736797933-d0281ba35a95?auto=format&fit=crop&w=400&h=400'
}
6:25:12 PM [express] GET /api/users/me 200 in 505ms :: {"id":"77554460-06da-48d3-9447-5ce416ff66c8",…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/feed?limit=12&offset=0',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/students/me',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔍 /api/students/me - User ID: 77554460-06da-48d3-9447-5ce416ff66c8
📸 Returning profile URLs: {
  profilePic: 'https://images.unsplash.com/photo-1594736797933-d0281ba35a95?auto=format&fit=crop&w=400&h=400',
  coverPhoto: 'https://images.unsplash.com/photo-1574629810360-7efbbe195018?auto=format&fit=crop&w=1920&h=400'
}
6:25:13 PM [express] GET /api/students/me 304 in 1422ms :: {"id":"5c2d8e33-a6de-4235-b052-cabedf0585…
6:25:14 PM [express] GET /api/posts/feed 200 in 1783ms :: {"posts":[{"id":"5cabbad9-3afe-4074-8896-3…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/5cabbad9-3afe-4074-8896-3b37571c4d93/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/8677a52d-2add-4550-9441-715d0693e4bb/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/f1765b2f-b1fd-4108-bcd4-99b5381d320a/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/ac3dba29-9574-492d-abb8-b8a88e555d3e/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/223ff8b7-8a18-4b1e-bea9-065cd4e5a4d6/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/92b8399e-89dc-4a35-9107-3c18f7b3a669/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
6:25:15 PM [express] POST /api/posts/f1765b2f-b1fd-4108-bcd4-99b5381d320a/view 200 in 250ms :: {"suc…
6:25:15 PM [express] POST /api/posts/5cabbad9-3afe-4074-8896-3b37571c4d93/view 200 in 261ms :: {"suc…
6:25:15 PM [express] POST /api/posts/223ff8b7-8a18-4b1e-bea9-065cd4e5a4d6/view 200 in 246ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/0cec5ed2-e42a-4c6c-bc28-b008a5b2f660/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/d35e2229-10b4-4731-bd63-004128d70b2f/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
6:25:15 PM [express] POST /api/posts/92b8399e-89dc-4a35-9107-3c18f7b3a669/view 200 in 249ms :: {"suc…
6:25:15 PM [express] POST /api/posts/8677a52d-2add-4550-9441-715d0693e4bb/view 200 in 263ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/bde6e23c-82c7-439d-859d-86835d43ad62/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
6:25:15 PM [express] POST /api/posts/ac3dba29-9574-492d-abb8-b8a88e555d3e/view 200 in 257ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/17f54087-5238-4e20-9e7e-b2c8768449cb/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/79a6c465-70df-48f6-970d-72ea43da54f0/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/posts/648a3943-879e-4a8c-872d-5ed8884bc949/view',
  method: 'POST'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
6:25:15 PM [express] POST /api/posts/d35e2229-10b4-4731-bd63-004128d70b2f/view 200 in 238ms :: {"suc…
6:25:15 PM [express] POST /api/posts/0cec5ed2-e42a-4c6c-bc28-b008a5b2f660/view 200 in 242ms :: {"suc…
6:25:15 PM [express] POST /api/posts/bde6e23c-82c7-439d-859d-86835d43ad62/view 200 in 238ms :: {"suc…
6:25:15 PM [express] POST /api/posts/17f54087-5238-4e20-9e7e-b2c8768449cb/view 200 in 237ms :: {"suc…
6:25:15 PM [express] POST /api/posts/79a6c465-70df-48f6-970d-72ea43da54f0/view 200 in 237ms :: {"suc…
6:25:15 PM [express] POST /api/posts/648a3943-879e-4a8c-872d-5ed8884bc949/view 200 in 236ms :: {"suc…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/submissions/me',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
6:25:18 PM [express] GET /api/xen-watch/submissions/me 304 in 487ms :: {"submissions":[{"id":"dc3d4a…
6:43:18 PM [vite] hmr update /src/pages/xen-watch/index.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
6:43:52 PM [vite] hmr update /src/pages/xen-watch/index.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/users/me',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔍 /api/users/me - Auth object: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59'
}
🔍 /api/users/me - Database query result: { resultCount: 1, userId: '77554460-06da-48d3-9447-5ce416ff66c8' }
🔍 /api/users/me - Final schoolId: {
  dbSchoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  jwtSchoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  finalSchoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59'
}
✅ /api/users/me - Returning user data: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  profilePicUrl: 'https://images.unsplash.com/photo-1594736797933-d0281ba35a95?auto=format&fit=crop&w=400&h=400'
}
6:43:56 PM [express] GET /api/users/me 304 in 3796ms :: {"id":"77554460-06da-48d3-9447-5ce416ff66c8"…
6:44:22 PM [vite] hmr update /src/pages/xen-watch/index.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
6:44:46 PM [vite] hmr update /src/pages/xen-watch/index.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
6:45:50 PM [vite] hmr update /src/pages/xen-watch/index.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/users/me',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔍 /api/users/me - Auth object: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59'
}
🔍 /api/users/me - Database query result: { resultCount: 1, userId: '77554460-06da-48d3-9447-5ce416ff66c8' }
🔍 /api/users/me - Final schoolId: {
  dbSchoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  jwtSchoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  finalSchoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59'
}
✅ /api/users/me - Returning user data: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  profilePicUrl: 'https://images.unsplash.com/photo-1594736797933-d0281ba35a95?auto=format&fit=crop&w=400&h=400'
}
6:45:53 PM [express] GET /api/users/me 304 in 2734ms :: {"id":"77554460-06da-48d3-9447-5ce416ff66c8"…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/submissions/me',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/students/me',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔍 /api/students/me - User ID: 77554460-06da-48d3-9447-5ce416ff66c8
6:45:55 PM [express] GET /api/xen-watch/submissions/me 304 in 1609ms :: {"submissions":[{"id":"dc3d4…
📸 Returning profile URLs: {
  profilePic: 'https://images.unsplash.com/photo-1594736797933-d0281ba35a95?auto=format&fit=crop&w=400&h=400',
  coverPhoto: 'https://images.unsplash.com/photo-1574629810360-7efbbe195018?auto=format&fit=crop&w=1920&h=400'
}
6:45:56 PM [express] GET /api/students/me 304 in 2514ms :: {"id":"5c2d8e33-a6de-4235-b052-cabedf0585…
6:47:07 PM [vite] hmr update /src/pages/xen-watch/index.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/users/me',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔍 /api/users/me - Auth object: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59'
}
🔍 /api/users/me - Database query result: { resultCount: 1, userId: '77554460-06da-48d3-9447-5ce416ff66c8' }
🔍 /api/users/me - Final schoolId: {
  dbSchoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  jwtSchoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  finalSchoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59'
}
✅ /api/users/me - Returning user data: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  profilePicUrl: 'https://images.unsplash.com/photo-1594736797933-d0281ba35a95?auto=format&fit=crop&w=400&h=400'
}
6:47:09 PM [express] GET /api/users/me 304 in 1968ms :: {"id":"77554460-06da-48d3-9447-5ce416ff66c8"…
6:47:36 PM [vite] hmr update /src/pages/xen-watch/index.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
6:49:55 PM [vite] hmr update /src/pages/xen-watch/index.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/users/me',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔍 /api/users/me - Auth object: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59'
}
🔍 /api/users/me - Database query result: { resultCount: 1, userId: '77554460-06da-48d3-9447-5ce416ff66c8' }
🔍 /api/users/me - Final schoolId: {
  dbSchoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  jwtSchoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  finalSchoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59'
}
✅ /api/users/me - Returning user data: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  profilePicUrl: 'https://images.unsplash.com/photo-1594736797933-d0281ba35a95?auto=format&fit=crop&w=400&h=400'
}
6:49:57 PM [express] GET /api/users/me 304 in 1821ms :: {"id":"77554460-06da-48d3-9447-5ce416ff66c8"…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/submissions/me',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/students/me',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔍 /api/students/me - User ID: 77554460-06da-48d3-9447-5ce416ff66c8
6:49:58 PM [express] GET /api/xen-watch/submissions/me 304 in 1075ms :: {"submissions":[{"id":"dc3d4…
📸 Returning profile URLs: {
  profilePic: 'https://images.unsplash.com/photo-1594736797933-d0281ba35a95?auto=format&fit=crop&w=400&h=400',
  coverPhoto: 'https://images.unsplash.com/photo-1574629810360-7efbbe195018?auto=format&fit=crop&w=1920&h=400'
}
6:49:58 PM [express] GET /api/students/me 304 in 1107ms :: {"id":"5c2d8e33-a6de-4235-b052-cabedf0585…
6:50:02 PM [vite] hmr update /src/pages/xen-watch/index.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
6:50:17 PM [vite] hmr update /src/pages/xen-watch/index.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
6:50:29 PM [vite] hmr update /src/pages/xen-watch/index.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/submissions/me',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
6:51:01 PM [express] GET /api/xen-watch/submissions/me 304 in 2086ms :: {"submissions":[{"id":"dc3d4…
6:51:10 PM [vite] hmr update /src/pages/xen-watch/index.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/users/me',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔍 /api/users/me - Auth object: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59'
}
🔍 /api/users/me - Database query result: { resultCount: 1, userId: '77554460-06da-48d3-9447-5ce416ff66c8' }
🔍 /api/users/me - Final schoolId: {
  dbSchoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  jwtSchoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  finalSchoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59'
}
✅ /api/users/me - Returning user data: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  profilePicUrl: 'https://images.unsplash.com/photo-1594736797933-d0281ba35a95?auto=format&fit=crop&w=400&h=400'
}
6:51:14 PM [express] GET /api/users/me 304 in 3595ms :: {"id":"77554460-06da-48d3-9447-5ce416ff66c8"…
6:51:19 PM [vite] hmr update /src/pages/xen-watch/index.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
6:51:35 PM [vite] hmr update /src/pages/xen-watch/index.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
6:52:04 PM [vite] hmr update /src/pages/xen-watch/index.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
6:52:11 PM [vite] hmr update /src/pages/xen-watch/index.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/users/me',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔍 /api/users/me - Auth object: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59'
}
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/submissions/me',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔍 /api/users/me - Database query result: { resultCount: 1, userId: '77554460-06da-48d3-9447-5ce416ff66c8' }
🔍 /api/users/me - Final schoolId: {
  dbSchoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  jwtSchoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  finalSchoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59'
}
6:52:13 PM [express] GET /api/xen-watch/submissions/me 304 in 1546ms :: {"submissions":[{"id":"dc3d4…
✅ /api/users/me - Returning user data: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  profilePicUrl: 'https://images.unsplash.com/photo-1594736797933-d0281ba35a95?auto=format&fit=crop&w=400&h=400'
}
6:52:13 PM [express] GET /api/users/me 304 in 2172ms :: {"id":"77554460-06da-48d3-9447-5ce416ff66c8"…
6:52:16 PM [vite] hmr update /src/pages/xen-watch/index.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
6:52:39 PM [vite] hmr update /src/pages/xen-watch/index.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/submissions/me',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
6:53:42 PM [express] GET /api/xen-watch/submissions/me 304 in 2205ms :: {"submissions":[{"id":"dc3d4…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/submissions/me',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
6:54:46 PM [express] GET /api/xen-watch/submissions/me 304 in 4083ms :: {"submissions":[{"id":"dc3d4…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/submissions/me',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
6:55:48 PM [express] GET /api/xen-watch/submissions/me 304 in 2141ms :: {"submissions":[{"id":"dc3d4…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/submissions/me',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
6:56:50 PM [express] GET /api/xen-watch/submissions/me 304 in 2556ms :: {"submissions":[{"id":"dc3d4…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/submissions/me',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
6:57:53 PM [express] GET /api/xen-watch/submissions/me 304 in 2792ms :: {"submissions":[{"id":"dc3d4…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/submissions/me',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
6:58:55 PM [express] GET /api/xen-watch/submissions/me 304 in 1913ms :: {"submissions":[{"id":"dc3d4…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/submissions/me',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
6:59:57 PM [express] GET /api/xen-watch/submissions/me 304 in 1769ms :: {"submissions":[{"id":"dc3d4…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/submissions/me',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
7:00:59 PM [express] GET /api/xen-watch/submissions/me 304 in 1777ms :: {"submissions":[{"id":"dc3d4…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/submissions/me',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
7:02:00 PM [express] GET /api/xen-watch/submissions/me 304 in 1729ms :: {"submissions":[{"id":"dc3d4…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/submissions/me',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
7:03:03 PM [express] GET /api/xen-watch/submissions/me 304 in 2018ms :: {"submissions":[{"id":"dc3d4…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/submissions/me',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
7:04:04 PM [express] GET /api/xen-watch/submissions/me 304 in 1667ms :: {"submissions":[{"id":"dc3d4…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/submissions/me',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
7:05:06 PM [express] GET /api/xen-watch/submissions/me 304 in 1663ms :: {"submissions":[{"id":"dc3d4…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/submissions/me',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
7:06:08 PM [express] GET /api/xen-watch/submissions/me 304 in 1900ms :: {"submissions":[{"id":"dc3d4…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/submissions/me',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
7:07:09 PM [express] GET /api/xen-watch/submissions/me 304 in 1603ms :: {"submissions":[{"id":"dc3d4…
7:07:27 PM [vite] hmr update /src/pages/xen-watch/index.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/users/me',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔍 /api/users/me - Auth object: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59'
}
🔍 /api/users/me - Database query result: { resultCount: 1, userId: '77554460-06da-48d3-9447-5ce416ff66c8' }
🔍 /api/users/me - Final schoolId: {
  dbSchoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  jwtSchoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  finalSchoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59'
}
✅ /api/users/me - Returning user data: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  profilePicUrl: 'https://images.unsplash.com/photo-1594736797933-d0281ba35a95?auto=format&fit=crop&w=400&h=400'
}
7:07:29 PM [express] GET /api/users/me 304 in 1649ms :: {"id":"77554460-06da-48d3-9447-5ce416ff66c8"…
7:07:35 PM [vite] hmr update /src/pages/xen-watch/index.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
7:07:45 PM [vite] hmr update /src/pages/xen-watch/index.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
7:08:11 PM [vite] hmr update /src/pages/xen-watch/index.tsx, /src/index.css?v=VICliPGO0LKNrpjtsBswE
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/submissions/me',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
7:08:42 PM [express] GET /api/xen-watch/submissions/me 304 in 1630ms :: {"submissions":[{"id":"dc3d4…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/users/me',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔍 /api/users/me - Auth object: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59'
}
🔍 /api/users/me - Database query result: { resultCount: 1, userId: '77554460-06da-48d3-9447-5ce416ff66c8' }
🔍 /api/users/me - Final schoolId: {
  dbSchoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  jwtSchoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  finalSchoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59'
}
✅ /api/users/me - Returning user data: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  profilePicUrl: 'https://images.unsplash.com/photo-1594736797933-d0281ba35a95?auto=format&fit=crop&w=400&h=400'
}
7:09:19 PM [express] GET /api/users/me 304 in 1622ms :: {"id":"77554460-06da-48d3-9447-5ce416ff66c8"…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/api/students/me',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
🔍 /api/students/me - User ID: 77554460-06da-48d3-9447-5ce416ff66c8
📸 Returning profile URLs: {
  profilePic: 'https://images.unsplash.com/photo-1594736797933-d0281ba35a95?auto=format&fit=crop&w=400&h=400',
  coverPhoto: 'https://images.unsplash.com/photo-1574629810360-7efbbe195018?auto=format&fit=crop&w=1920&h=400'
}
7:09:20 PM [express] GET /api/students/me 304 in 975ms :: {"id":"5c2d8e33-a6de-4235-b052-cabedf0585a…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/submissions/me',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
7:09:50 PM [express] GET /api/xen-watch/submissions/me 304 in 1551ms :: {"submissions":[{"id":"dc3d4…
🔐 Auth middleware: {
  hasToken: true,
  tokenLength: 387,
  url: '/submissions/me',
  method: 'GET'
}
🔐 JWT payload: {
  hasId: true,
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9',
  keys: [
    'id',       'email',
    'role',     'schoolId',
    'linkedId', 'iat',
    'exp'
  ]
}
🔐 Final normalized payload: {
  id: '77554460-06da-48d3-9447-5ce416ff66c8',
  email: 'student@lockerroom.com',
  role: 'student',
  schoolId: '7de86fac-48d3-4acb-b636-021ca8d07d59',
  linkedId: '5c2d8e33-a6de-4235-b052-cabedf0585a9'
}
7:10:52 PM [express] GET /api/xen-watch/submissions/me 304 in 1684ms :: {"submissions":[{"id":"dc3d4…
